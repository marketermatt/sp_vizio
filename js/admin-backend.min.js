if(function($){if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.4.3"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}overrides={beforeShow:function(e,t){return $.isFunction(tp_inst._defaults.evnts.beforeShow)?tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst):void 0},onChangeMonthYear:function(e,t,i){tp_inst._updateDateTime(i),$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,i,tp_inst)},onClose:function(e,t){tp_inst.timeDefined===!0&&""!==$input.val()&&tp_inst._updateDateTime(t),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}};for(i in overrides)overrides.hasOwnProperty(i)&&(fns[i]=opts[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(e){return e.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(e){return e.toUpperCase()}),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"===tp_inst._defaults.controlType&&"undefined"==typeof $.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!=typeof timezoneList[0])for(;tzl>tzi;tzi++)tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)};return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):-1*(new Date).getTimezoneOffset(),tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,tp_inst._defaults.altField&&(tp_inst.$altInput=$(tp_inst._defaults.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),(0===tp_inst._defaults.minDate||0===tp_inst._defaults.minDateTime)&&(tp_inst._defaults.minDate=new Date),(0===tp_inst._defaults.maxDate||0===tp_inst._defaults.maxDateTime)&&(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(e){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker()},_parseTime:function(e,t){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){var i=$.datepicker._get(this.inst,"dateFormat");try{var n=parseDateTimeInternal(i,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!n.timeObj)return!1;$.extend(this,n.timeObj)}catch(s){return $.timepicker.log("Error parsing the date/time string: "+s+"\ndate/time string = "+e+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}var a=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return a?($.extend(this,a),!0):!1},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,i=this,n="",s="",a=null,o={},r={},l=null,c=0,d=0;if(0===e.find("div.ui-timepicker-div").length&&t.showTimepicker){var h=' style="display:none;"',u='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+(t.showTime?"":h)+">"+t.timeText+'</dt><dd class="ui_tpicker_time"'+(t.showTime?"":h)+"></dd>";for(c=0,d=this.units.length;d>c;c++){if(n=this.units[c],s=n.substr(0,1).toUpperCase()+n.substr(1),a=null!==t["show"+s]?t["show"+s]:this.support[n],o[n]=parseInt(t[n+"Max"]-(t[n+"Max"]-t[n+"Min"])%t["step"+s],10),r[n]=0,u+='<dt class="ui_tpicker_'+n+'_label"'+(a?"":h)+">"+t[n+"Text"]+'</dt><dd class="ui_tpicker_'+n+'"><div class="ui_tpicker_'+n+'_slider"'+(a?"":h)+"></div>",a&&t[n+"Grid"]>0){if(u+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"===n)for(var p=t[n+"Min"];p<=o[n];p+=parseInt(t[n+"Grid"],10)){r[n]++;var m=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:p},t);u+='<td data-for="'+n+'">'+m+"</td>"}else for(var f=t[n+"Min"];f<=o[n];f+=parseInt(t[n+"Grid"],10))r[n]++,u+='<td data-for="'+n+'">'+(10>f?"0":"")+f+"</td>";u+="</tr></table></div>"}u+="</dd>"}var g=null!==t.showTimezone?t.showTimezone:this.support.timezone;u+='<dt class="ui_tpicker_timezone_label"'+(g?"":h)+">"+t.timezoneText+"</dt>",u+='<dd class="ui_tpicker_timezone" '+(g?"":h)+"></dd>",u+="</dl></div>";var v=$(u);for(t.timeOnly===!0&&(v.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div></div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),c=0,d=i.units.length;d>c;c++)n=i.units[c],s=n.substr(0,1).toUpperCase()+n.substr(1),a=null!==t["show"+s]?t["show"+s]:this.support[n],i[n+"_slider"]=i.control.create(i,v.find(".ui_tpicker_"+n+"_slider"),n,i[n],t[n+"Min"],o[n],t["step"+s]),a&&t[n+"Grid"]>0&&(l=100*r[n]*t[n+"Grid"]/(o[n]-t[n+"Min"]),v.find(".ui_tpicker_"+n+" table").css({width:l+"%",marginLeft:t.isRTL?"0":l/(-2*r[n])+"%",marginRight:t.isRTL?l/(-2*r[n])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(e){var t=$(this),s=t.html(),a=parseInt(s.replace(/[^0-9]/g),10),o=s.replace(/[^apm]/gi),r=t.data("for");"hour"===r&&(-1!==o.indexOf("p")&&12>a?a+=12:-1!==o.indexOf("a")&&12===a&&(a=0)),i.control.value(i,i[r+"_slider"],n,a),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/r[n]+"%",textAlign:"center",overflow:"hidden"}));if(this.timezone_select=v.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,function(e,t){return $("<option />").val("object"==typeof e?e.value:e).text("object"==typeof e?e.label:e)})),"undefined"!=typeof this.timezone&&null!==this.timezone&&""!==this.timezone){var _=-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset();_===this.timezone?selectLocalTimezone(i):this.timezone_select.val(this.timezone)}else"undefined"!=typeof this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(t.timezone):selectLocalTimezone(i);this.timezone_select.change(function(){i._onTimeChange(),i._onSelectHandler()});var w=e.find(".ui-datepicker-buttonpane");if(w.length?w.before(v):e.append(v),this.$timeObj=v.find(".ui_tpicker_time"),null!==this.inst){var b=this.timeDefined;this._onTimeChange(),this.timeDefined=b}if(this._defaults.addSliderAccess){var x=this._defaults.sliderAccessArgs,y=this._defaults.isRTL;x.isRTL=y,setTimeout(function(){if(0===v.find(".ui-slider-access").length){v.find(".ui-slider:visible").sliderAccess(x);var e=v.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&v.find("table:visible").each(function(){var t=$(this),i=t.outerWidth(),n=t.css(y?"marginRight":"marginLeft").toString().replace("%",""),s=i-e,a=n*s/i+"%",o={width:s,marginRight:0,marginLeft:0};o[y?"marginRight":"marginLeft"]=a,t.css(o)})}},10)}i._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(e,t){var i=this._defaults,n=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(e,"minDateTime")&&void 0!==$.datepicker._get(e,"minDateTime")&&n){var s=$.datepicker._get(e,"minDateTime"),a=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0);(null===this.hourMinOriginal||null===this.minuteMinOriginal||null===this.secondMinOriginal||null===this.millisecMinOriginal||null===this.microsecMinOriginal)&&(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin,this.microsecMinOriginal=i.microsecMin),e.settings.timeOnly||a.getTime()===n.getTime()?(this._defaults.hourMin=s.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=s.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=s.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=s.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=s.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.datepicker._get(e,"maxDateTime")&&void 0!==$.datepicker._get(e,"maxDateTime")&&n){var o=$.datepicker._get(e,"maxDateTime"),r=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0);(null===this.hourMaxOriginal||null===this.minuteMaxOriginal||null===this.secondMaxOriginal||null===this.millisecMaxOriginal)&&(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax,this.microsecMaxOriginal=i.microsecMax),e.settings.timeOnly||r.getTime()===n.getTime()?(this._defaults.hourMax=o.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=o.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=o.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=o.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=o.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(void 0!==t&&t===!0){var l=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),c=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),d=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),h=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),u=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:l}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:c}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:d}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:h}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:u}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var e=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,t=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):!1,i=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,n=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,s=this.microsec_slider?this.control.value(this,this.microsec_slider,"microsec"):!1,a=this.timezone_select?this.timezone_select.val():!1,o=this._defaults,r=o.pickerTimeFormat||o.timeFormat,l=o.pickerTimeSuffix||o.timeSuffix;"object"==typeof e&&(e=!1),"object"==typeof t&&(t=!1),"object"==typeof i&&(i=!1),"object"==typeof n&&(n=!1),"object"==typeof s&&(s=!1),"object"==typeof a&&(a=!1),e!==!1&&(e=parseInt(e,10)),t!==!1&&(t=parseInt(t,10)),i!==!1&&(i=parseInt(i,10)),n!==!1&&(n=parseInt(n,10)),s!==!1&&(s=parseInt(s,10)),a!==!1&&(a=a.toString());var c=o[12>e?"amNames":"pmNames"][0],d=e!==parseInt(this.hour,10)||t!==parseInt(this.minute,10)||i!==parseInt(this.second,10)||n!==parseInt(this.millisec,10)||s!==parseInt(this.microsec,10)||this.ampm.length>0&&12>e!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&a!==this.timezone.toString();d&&(e!==!1&&(this.hour=e),t!==!1&&(this.minute=t),i!==!1&&(this.second=i),n!==!1&&(this.millisec=n),s!==!1&&(this.microsec=s),a!==!1&&(this.timezone=a),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=c),this.formattedTime=$.datepicker.formatTime(o.timeFormat,this,o),this.$timeObj&&this.$timeObj.text(r===o.timeFormat?this.formattedTime+l:$.datepicker.formatTime(r,this,o)+l),this.timeDefined=!0,d&&(this._updateDateTime(),this.$input.focus())}},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){e=this.inst||e;var t=e.currentYear>0?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(e.selectedYear,e.selectedMonth,e.selectedDay),i=$.datepicker._daylightSavingAdjust(t),n=$.datepicker._get(e,"dateFormat"),s=$.datepicker._getFormatConfig(e),a=null!==i&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(n,null===i?new Date:i,s);var o=this.formattedDate;if(""===e.lastVal&&(e.currentYear=e.selectedYear,e.currentMonth=e.selectedMonth,e.currentDay=e.selectedDay),this._defaults.timeOnly===!0?o=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||a)&&(o+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=o,this._defaults.showTimepicker)if(this.$altInput&&this._defaults.timeOnly===!1&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(o);var r="",l=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,c=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(r=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===i?new Date:i,s):this.formattedDate,r&&(r+=l)),r+=this._defaults.altTimeFormat?$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+c:this.formattedTime+c,this.$altInput.val(r)}else this.$input.val(o);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t&&t._defaults.timeOnly&&e.input.val()!==e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(i){$.timepicker.log(i)}}},_controls:{slider:{create:function(e,t,i,n,s,a,o){var r=e._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:r?-1*n:n,min:r?-1*a:s,max:r?-1*s:a,step:o,slide:function(t,n){e.control.value(e,$(this),i,r?-1*n.value:n.value),e._onTimeChange()},stop:function(t,i){e._onSelectHandler()}})},options:function(e,t,i,n,s){if(e._defaults.isRTL){if("string"==typeof n)return"min"===n||"max"===n?void 0!==s?t.slider(n,-1*s):Math.abs(t.slider(n)):t.slider(n);var a=n.min,o=n.max;return n.min=n.max=null,void 0!==a&&(n.max=-1*a),void 0!==o&&(n.min=-1*o),t.slider(n)}return"string"==typeof n&&void 0!==s?t.slider(n,s):t.slider(n)},value:function(e,t,i,n){return e._defaults.isRTL?void 0!==n?t.slider("value",-1*n):Math.abs(t.slider("value")):void 0!==n?t.slider("value",n):t.slider("value")}},select:{create:function(e,t,i,n,s,a,o){for(var r='<select class="ui-timepicker-select" data-unit="'+i+'" data-min="'+s+'" data-max="'+a+'" data-step="'+o+'">',l=e._defaults.pickerTimeFormat||e._defaults.timeFormat,c=s;a>=c;c+=o)r+='<option value="'+c+'"'+(c===n?" selected":"")+">",r+="hour"===i?$.datepicker.formatTime($.trim(l.replace(/[^ht ]/gi,"")),{hour:c},e._defaults):"millisec"===i||"microsec"===i||c>=10?c:"0"+c.toString(),r+="</option>";return r+="</select>",t.children("select").remove(),$(r).appendTo(t).change(function(t){e._onTimeChange(),e._onSelectHandler()}),t},options:function(e,t,i,n,s){var a={},o=t.children("select");if("string"==typeof n){if(void 0===s)return o.data(n);a[n]=s}else a=n;return e.control.create(e,t,o.data("unit"),o.val(),a.min||o.data("min"),a.max||o.data("max"),a.step||o.data("step"))},value:function(e,t,i,n){var s=t.children("select");return void 0!==n?s.val(n):s.val()}}}}),$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);return"object"==typeof e&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(e){e=e||{};var t=arguments;return"string"==typeof e?"getDate"===e?$.fn.datepicker.apply($(this[0]),t):this.each(function(){var e=$(this);e.datepicker.apply(e,t)}):this.each(function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)})}}),$.datepicker.parseDateTime=function(e,t,i,n,s){var a=parseDateTimeInternal(e,t,i,n,s);if(a.timeObj){var o=a.timeObj;a.date.setHours(o.hour,o.minute,o.second,o.millisec),a.date.setMicroseconds(o.microsec)}return a.date},$.datepicker.parseTime=function(e,t,i){var n=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),s=-1!==e.replace(/\'.*?\'/g,"").indexOf("Z"),a=function(e,t,i){var n=function(e,t){var i=[];return e&&$.merge(i,e),t&&$.merge(i,t),i=$.map(i,function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+i.join("|")+")?"},s=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(t)for(var n=0;n<t.length;n++)-1===i[t[n].toString().charAt(0)]&&(i[t[n].toString().charAt(0)]=n+1);return i},a="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){var t=e.length;switch(e.charAt(0).toLowerCase()){case"h":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"m":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"s":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"l":return"(\\d?\\d?\\d)";case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return n(i.amNames,i.pmNames);default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return"\\"+e})+")?"}}).replace(/\s/g,"\\s?")+i.timeSuffix+"$",o=s(e),r="",l;l=t.match(new RegExp(a,"i"));var c={hour:0,minute:0,second:0,millisec:0,microsec:0};return l?(-1!==o.t&&(void 0===l[o.t]||0===l[o.t].length?(r="",c.ampm=""):(r=-1!==$.inArray(l[o.t].toUpperCase(),i.amNames)?"AM":"PM",c.ampm=i["AM"===r?"amNames":"pmNames"][0])),-1!==o.h&&(c.hour="AM"===r&&"12"===l[o.h]?0:"PM"===r&&"12"!==l[o.h]?parseInt(l[o.h],10)+12:Number(l[o.h])),-1!==o.m&&(c.minute=Number(l[o.m])),-1!==o.s&&(c.second=Number(l[o.s])),-1!==o.l&&(c.millisec=Number(l[o.l])),-1!==o.c&&(c.microsec=Number(l[o.c])),-1!==o.z&&void 0!==l[o.z]&&(c.timezone=$.timepicker.timezoneOffsetNumber(l[o.z])),c):!1},o=function(e,t,i){try{var n=new Date("2012-01-01 "+t);if(isNaN(n.getTime())&&(n=new Date("2012-01-01T"+t),isNaN(n.getTime())&&(n=new Date("01/01/2012 "+t),isNaN(n.getTime()))))throw"Unable to parse time with native Date: "+t;return{hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),millisec:n.getMilliseconds(),microsec:n.getMicroseconds(),timezone:-1*n.getTimezoneOffset()}}catch(s){try{return a(e,t,i)}catch(o){$.timepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+e)}}return!1};return"function"==typeof n.parse?n.parse(e,t,n):"loose"===n.parse?o(e,t,n):a(e,t,n)},$.datepicker.formatTime=function(e,t,i){i=i||{},i=$.extend({},$.timepicker._defaults,i),t=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},t);var n=e,s=i.amNames[0],a=parseInt(t.hour,10);return a>11&&(s=i.pmNames[0]),n=n.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){switch(e){case"HH":return("0"+a).slice(-2);case"H":return a;case"hh":return("0"+convert24to12(a)).slice(-2);case"h":return convert24to12(a);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"c":return("00"+t.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!1);case"Z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!0);case"T":return s.charAt(0).toUpperCase();case"TT":return s.toUpperCase();case"t":return s.charAt(0).toLowerCase();case"tt":return s.toLowerCase();default:return e.replace(/'/g,"")}})},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var i=this._getInst($(e)[0]),n=this._get(i,"timepicker");n?(n._limitMinMaxDateTime(i,!0),i.inline=i.stay_open=!0,this._base_selectDate(e,t),i.inline=i.stay_open=!1,this._notifyChange(i),this._updateDatepicker(i)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!==e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==t||"boolean"==typeof e.stay_open&&e.stay_open!==!1)){this._base_updateDatepicker(e);var i=this._get(e,"timepicker");i&&i._addTimePicker(e)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&$.datepicker._get(t,"constrainInput")){var n=i.support.ampm,s=null!==i._defaults.showTimezone?i._defaults.showTimezone:i.support.timezone,a=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),o=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,n?"APM":"").replace(/Tt/g,n?"AaPpMm":"").replace(/tT/g,n?"AaPpMm":"").replace(/T/g,n?"AP":"").replace(/tt/g,n?"apm":"").replace(/t/g,n?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(s?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+a,r=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||" ">r||!a||o.indexOf(r)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var i=t._defaults.altField;if(i){var n=t._defaults.altFormat||t._defaults.dateFormat,s=this._getDate(e),a=$.datepicker._getFormatConfig(e),o="",r=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,l=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,c=null!==t._defaults.altTimeFormat?t._defaults.altTimeFormat:t._defaults.timeFormat;o+=$.datepicker.formatTime(c,t,t._defaults)+l,t._defaults.timeOnly||t._defaults.altFieldTimeOnly||null===s||(o=t._defaults.altFormat?$.datepicker.formatDate(t._defaults.altFormat,s,a)+r+o:t.formattedDate+r+o),$(i).val(o)}}else $.datepicker._base_updateAlternate(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!==t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(n){$.timepicker.log(n)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]),i=t.dpDiv;this._base_gotoToday(e);var n=this._get(t,"timepicker");selectLocalTimezone(n);var s=new Date;this._setTime(t,s),$(".ui-datepicker-today",i).click()},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!1,i._defaults.showTimepicker=!1,i._updateDateTime(t))}},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!0,i._defaults.showTimepicker=!0,i._addTimePicker(t),i._updateDateTime(t))}},$.datepicker._setTime=function(e,t){var i=this._get(e,"timepicker");if(i){var n=i._defaults;i.hour=t?t.getHours():n.hour,i.minute=t?t.getMinutes():n.minute,i.second=t?t.getSeconds():n.second,i.millisec=t?t.getMilliseconds():n.millisec,i.microsec=t?t.getMicroseconds():n.microsec,i._limitMinMaxDateTime(e,!0),i._onTimeChange(),i._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,i){var n=this._getInst(e);if(n){var s=this._get(n,"timepicker");if(s){this._setDateFromField(n);var a;t&&("string"==typeof t?(s._parseTime(t,i),a=new Date,a.setHours(s.hour,s.minute,s.second,s.millisec),a.setMicroseconds(s.microsec)):(a=new Date(t.getTime()),a.setMicroseconds(t.getMicroseconds())),"Invalid Date"===a.toString()&&(a=void 0),this._setTime(n,a))}}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var i=this._getInst(e);if(i){"string"==typeof t&&(t=new Date(t),t.getTime()||$.timepicker.log("Error creating Date object from string."));var n=this._get(i,"timepicker"),s;t instanceof Date?(s=new Date(t.getTime()),s.setMicroseconds(t.getMicroseconds())):s=t,n&&s&&(n.support.timezone||null!==n._defaults.timezone||(n.timezone=-1*s.getTimezoneOffset()),t=$.timepicker.timezoneAdjust(t,n.timezone),s=$.timepicker.timezoneAdjust(s,n.timezone)),this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,s,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var n=this._get(i,"timepicker");if(n){void 0===i.lastVal&&this._setDateFromField(i,t);var s=this._getDate(i);
return s&&n._parseTime($(e).val(),n.timeOnly)&&(s.setHours(n.hour,n.minute,n.second,n.millisec),s.setMicroseconds(n.microsec),null!=n.timezone&&(n.support.timezone||null!==n._defaults.timezone||(n.timezone=-1*s.getTimezoneOffset()),s=$.timepicker.timezoneAdjust(s,n.timezone))),s}return this._base_getDateDatepicker(e,t)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,i){var n;try{n=this._base_parseDate(e,t,i)}catch(s){if(!(s.indexOf(":")>=0))throw s;n=this._base_parseDate(e,t.substring(0,t.length-(s.length-s.indexOf(":")-2)),i),$.timepicker.log("Error parsing the date string: "+s+"\ndate string = "+t+"\ndate format = "+e)}return n},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e,t,i,n){var s=this._get(e,"timepicker");return s?(s._updateDateTime(e),s.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,i){var n=this._getInst(e),s;if(!n)return null;var a=this._get(n,"timepicker");if(a){var o=null,r=null,l=null,c=a._defaults.evnts,d={},h;if("string"==typeof t){if("minDate"===t||"minDateTime"===t)o=i;else if("maxDate"===t||"maxDateTime"===t)r=i;else if("onSelect"===t)l=i;else if(c.hasOwnProperty(t)){if("undefined"==typeof i)return c[t];d[t]=i,s={}}}else if("object"==typeof t){t.minDate?o=t.minDate:t.minDateTime?o=t.minDateTime:t.maxDate?r=t.maxDate:t.maxDateTime&&(r=t.maxDateTime);for(h in c)c.hasOwnProperty(h)&&t[h]&&(d[h]=t[h])}for(h in d)d.hasOwnProperty(h)&&(c[h]=d[h],s||(s=$.extend({},t)),delete s[h]);if(s&&isEmptyObject(s))return;o?(o=0===o?new Date:new Date(o),a._defaults.minDate=o,a._defaults.minDateTime=o):r?(r=0===r?new Date:new Date(r),a._defaults.maxDate=r,a._defaults.maxDateTime=r):l&&(a._defaults.onSelect=l)}return void 0===i?this._base_optionDatepicker.call($.datepicker,e,t):this._base_optionDatepicker.call($.datepicker,e,s||t,i)};var isEmptyObject=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},extendRemove=function(e,t){$.extend(e,t);for(var i in t)(null===t[i]||void 0===t[i])&&(e[i]=t[i]);return e},detectSupport=function(e){var t=e.replace(/'.*?'/g,"").toLowerCase(),i=function(e,t){return-1!==e.indexOf(t)?!0:!1};return{hour:i(t,"h"),minute:i(t,"m"),second:i(t,"s"),millisec:i(t,"l"),microsec:i(t,"c"),timezone:i(t,"z"),ampm:i(t,"t")&&i(e,"h"),iso8601:i(e,"Z")}},convert24to12=function(e){return e%=12,0===e&&(e=12),String(e)},computeEffectiveSetting=function(e,t){return e&&e[t]?e[t]:$.timepicker._defaults[t]},splitDateTime=function(e,t){var i=computeEffectiveSetting(t,"separator"),n=computeEffectiveSetting(t,"timeFormat"),s=n.split(i),a=s.length,o=e.split(i),r=o.length;return r>1?{dateString:o.splice(0,r-a).join(i),timeString:o.splice(0,a).join(i)}:{dateString:e,timeString:""}},parseDateTimeInternal=function(e,t,i,n,s){var a,o,r;if(o=splitDateTime(i,s),a=$.datepicker._base_parseDate(e,o.dateString,n),""===o.timeString)return{date:a};if(r=$.datepicker.parseTime(t,o.timeString,s),!r)throw"Wrong time format";return{date:a,timeObj:r}},selectLocalTimezone=function(e,t){if(e&&e.timezone_select){var i=t||new Date;e.timezone_select.val(-i.getTimezoneOffset())}};$.timepicker=new Timepicker,$.timepicker.timezoneOffsetString=function(e,t){if(isNaN(e)||e>840||-720>e)return e;var i=e,n=i%60,s=(i-n)/60,a=t?":":"",o=(i>=0?"+":"-")+("0"+Math.abs(s)).slice(-2)+a+("0"+Math.abs(n)).slice(-2);return"+00:00"===o?"Z":o},$.timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");return"Z"===t.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(t)?("-"===t.substr(0,1)?-1:1)*(60*parseInt(t.substr(1,2),10)+parseInt(t.substr(3,2),10)):e},$.timepicker.timezoneAdjust=function(e,t){var i=$.timepicker.timezoneOffsetNumber(t);return isNaN(i)||e.setMinutes(e.getMinutes()+-e.getTimezoneOffset()-i),e},$.timepicker.timeRange=function(e,t,i){return $.timepicker.handleRange("timepicker",e,t,i)},$.timepicker.datetimeRange=function(e,t,i){$.timepicker.handleRange("datetimepicker",e,t,i)},$.timepicker.dateRange=function(e,t,i){$.timepicker.handleRange("datepicker",e,t,i)},$.timepicker.handleRange=function(e,t,i,n){function s(s,a){var o=t[e]("getDate"),r=i[e]("getDate"),l=s[e]("getDate");if(null!==o){var c=new Date(o.getTime()),d=new Date(o.getTime());c.setMilliseconds(c.getMilliseconds()+n.minInterval),d.setMilliseconds(d.getMilliseconds()+n.maxInterval),n.minInterval>0&&c>r?i[e]("setDate",c):n.maxInterval>0&&r>d?i[e]("setDate",d):o>r&&a[e]("setDate",l)}}function a(t,i,s){if(t.val()){var a=t[e].call(t,"getDate");null!==a&&n.minInterval>0&&("minDate"===s&&a.setMilliseconds(a.getMilliseconds()+n.minInterval),"maxDate"===s&&a.setMilliseconds(a.getMilliseconds()-n.minInterval)),a.getTime&&i[e].call(i,"option",s,a)}}return n=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},n),$.fn[e].call(t,$.extend({onClose:function(e,t){s($(this),i)},onSelect:function(e){a($(this),i,"minDate")}},n,n.start)),$.fn[e].call(i,$.extend({onClose:function(e,i){s($(this),t)},onSelect:function(e){a($(this),t,"maxDate")}},n,n.end)),s(t,i),a(t,i,"minDate"),a(i,t,"maxDate"),$([t.get(0),i.get(0)])},$.timepicker.log=function(e){window.console&&window.console.log(e)},$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal},Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3)),this.microseconds=e%1e3,this}),$.timepicker.version="@@version"}}(jQuery),function($){"undefined"==typeof $.fn.each2&&$.extend($.fn,{each2:function(e){for(var t=$([0]),i=-1,n=this.length;++i<n&&(t.context=t[0]=this[i])&&e.call(t[0],i,t)!==!1;);return this}})}(jQuery),function($,e){"use strict";function t(e){var t=$(document.createTextNode(""));e.before(t),t.before(e),t.remove()}function i(e){function t(e){return R[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(e,t){for(var i=0,n=t.length;n>i;i+=1)if(a(e,t[i]))return i;return-1}function s(){var e=$(L);e.appendTo("body");var t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t}function a(t,i){return t===i?!0:t===e||i===e?!1:null===t||null===i?!1:t.constructor===String?t+""==i+"":i.constructor===String?i+""==t+"":!1}function o(e,t){var i,n,s;if(null===e||e.length<1)return[];for(i=e.split(t),n=0,s=i.length;s>n;n+=1)i[n]=$.trim(i[n]);return i}function r(e){return e.outerWidth(!1)-e.width()}function l(t){var i="keyup-change-value";t.on("keydown",function(){$.data(t,i)===e&&$.data(t,i,t.val())}),t.on("keyup",function(){var n=$.data(t,i);n!==e&&t.val()!==n&&($.removeData(t,i),t.trigger("keyup-change"))})}function c(t){t.on("mousemove",function(t){var i=F;(i===e||i.x!==t.pageX||i.y!==t.pageY)&&$(t.target).trigger("mousemove-filtered",t)})}function d(t,i,n){n=n||e;var s;return function(){var e=arguments;window.clearTimeout(s),s=window.setTimeout(function(){i.apply(n,e)},t)}}function h(e,t){var i=d(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){n(e.target,t.get())>=0&&i(e)})}function u(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t=e[0],i=e.val().length,n;e.focus();var s=t.offsetWidth>0||t.offsetHeight>0;s&&t===document.activeElement&&(t.setSelectionRange?t.setSelectionRange(i,i):t.createTextRange&&(n=t.createTextRange(),n.collapse(!1),n.select()))},0)}function p(e){e=$(e)[0];var t=0,i=0;if("selectionStart"in e)t=e.selectionStart,i=e.selectionEnd-t;else if("selection"in document){e.focus();var n=document.selection.createRange();i=document.selection.createRange().text.length,n.moveStart("character",-e.value.length),t=n.text.length-i}return{offset:t,length:i}}function m(e){e.preventDefault(),e.stopPropagation()}function f(e){e.preventDefault(),e.stopImmediatePropagation()}function g(e){if(!j){var t=e[0].currentStyle||window.getComputedStyle(e[0],null);j=$(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:t.fontSize,fontFamily:t.fontFamily,fontStyle:t.fontStyle,fontWeight:t.fontWeight,letterSpacing:t.letterSpacing,textTransform:t.textTransform,whiteSpace:"nowrap"}),j.attr("class","select2-sizer"),$("body").append(j)}return j.text(e.val()),j.width()}function v(e,t,i){var n,s=[],a;n=$.trim(e.attr("class")),n&&(n=""+n,$(n.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&s.push(this)})),n=$.trim(t.attr("class")),n&&(n=""+n,$(n.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(a=i(this),a&&s.push(a))})),e.attr("class",s.join(" "))}function _(e,t,n,s){var a=i(e.toUpperCase()).indexOf(i(t.toUpperCase())),o=t.length;return 0>a?void n.push(s(e)):(n.push(s(e.substring(0,a))),n.push("<span class='select2-match'>"),n.push(s(e.substring(a,a+o))),n.push("</span>"),void n.push(s(e.substring(a+o,e.length))))}function w(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function b(t){var i,n=null,s=t.quietMillis||100,a=t.url,o=this;return function(r){window.clearTimeout(i),i=window.setTimeout(function(){var i=t.data,s=a,l=t.transport||$.fn.select2.ajaxDefaults.transport,c={type:t.type||"GET",cache:t.cache||!1,jsonpCallback:t.jsonpCallback||e,dataType:t.dataType||"json"},d=$.extend({},$.fn.select2.ajaxDefaults.params,c);i=i?i.call(o,r.term,r.page,r.context):null,s="function"==typeof s?s.call(o,r.term,r.page,r.context):s,n&&"function"==typeof n.abort&&n.abort(),t.params&&($.isFunction(t.params)?$.extend(d,t.params.call(o)):$.extend(d,t.params)),$.extend(d,{url:s,dataType:t.dataType,data:i,success:function(e){var i=t.results(e,r.page,r);r.callback(i)}}),n=l.call(o,d)},s)}}function x(e){var t=e,i,n,s=function(e){return""+e.text};$.isArray(t)&&(n=t,t={results:n}),$.isFunction(t)===!1&&(n=t,t=function(){return n});var a=t();return a.text&&(s=a.text,$.isFunction(s)||(i=a.text,s=function(e){return e[i]})),function(e){var i=e.term,n={results:[]},a;return""===i?void e.callback(t()):(a=function(t,n){var o,r;if(t=t[0],t.children){o={};for(r in t)t.hasOwnProperty(r)&&(o[r]=t[r]);o.children=[],$(t.children).each2(function(e,t){a(t,o.children)}),(o.children.length||e.matcher(i,s(o),t))&&n.push(o)}else e.matcher(i,s(t),t)&&n.push(t)},$(t().results).each2(function(e,t){a(t,n.results)}),void e.callback(n))}}function y(t){var i=$.isFunction(t);return function(n){var s=n.term,a={results:[]},o=i?t(n):t;$.isArray(o)&&($(o).each(function(){var t=this.text!==e,i=t?this.text:this;(""===s||n.matcher(s,i))&&a.results.push(t?this:{id:this,text:this})}),n.callback(a))}}function k(e,t){if($.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(t+" must be a string, function, or falsy value")}function C(e,t){if($.isFunction(e)){var i=Array.prototype.slice.call(arguments,2);return e.apply(t,i)}return e}function S(e){var t=0;return $.each(e,function(e,i){i.children?t+=S(i.children):t++}),t}function T(t,i,n,s){var o=t,r=!1,l,c,d,h,u;if(!s.createSearchChoice||!s.tokenSeparators||s.tokenSeparators.length<1)return e;for(;;){for(c=-1,d=0,h=s.tokenSeparators.length;h>d&&(u=s.tokenSeparators[d],c=t.indexOf(u),!(c>=0));d++);if(0>c)break;if(l=t.substring(0,c),t=t.substring(c+u.length),l.length>0&&(l=s.createSearchChoice.call(this,l,i),l!==e&&null!==l&&s.id(l)!==e&&null!==s.id(l))){for(r=!1,d=0,h=i.length;h>d;d++)if(a(s.id(l),s.id(i[d]))){r=!0;break}r||n(l)}}return o!==t?t:void 0}function M(){var e=this;$.each(arguments,function(t,i){e[i].remove(),e[i]=null})}function D(e,t){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=$.extend(i.prototype,t),i}if(window.Select2===e){var O,I,E,P,z,j,F={x:0,y:0},N,A,O={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case O.LEFT:case O.RIGHT:case O.UP:case O.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case O.SHIFT:case O.CTRL:case O.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},L="<div class='select2-measure-scrollbar'></div>",R={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};N=$(document),z=function(){var e=1;return function(){return e++}}(),I=D(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(t){var i,n,a=".select2-results";this.opts=t=this.prepareOpts(t),this.id=t.id,t.element.data("select2")!==e&&null!==t.element.data("select2")&&t.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=$("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(t.element.attr("id")||"autogen"+z()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",t.element.attr("title")),this.body=$("body"),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",t.element.attr("style")),this.container.css(C(t.containerCss,this.opts.element)),this.container.addClass(C(t.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(C(t.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=i=this.container.find(a),this.search=n=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),c(this.results),this.dropdown.on("mousemove-filtered",a,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",a,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",a,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",a,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),h(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),$(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),$(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),$.fn.mousewheel&&i.mousewheel(function(e,t,n,s){var a=i.scrollTop();s>0&&0>=a-s?(i.scrollTop(0),m(e)):0>s&&i.get(0).scrollHeight-i.scrollTop()+s<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),m(e))}),l(n),n.on("keyup-change input paste",this.bind(this.updateResults)),n.on("focus",function(){n.addClass("select2-focused")}),n.on("blur",function(){n.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(e){$(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=e,$.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==t.maximumInputLength&&this.search.attr("maxlength",t.maximumInputLength);var o=t.element.prop("disabled");o===e&&(o=!1),this.enable(!o);var r=t.element.prop("readonly");r===e&&(r=!1),this.readonly(r),A=A||s(),this.autofocus=t.element.prop("autofocus"),t.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",t.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,i=t.data("select2");this.close(),t.length&&t[0].detachEvent&&t.each(function(){this.detachEvent("onpropertychange",this._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,i!==e&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show()),M.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:a(e.attr("locked"),"locked")||a(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(t){var i,n,s,r,l=this;if(i=t.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=n=t.element),n&&$.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in t)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),t=$.extend({},{populateResults:function(i,n,s){var a,o=this.opts.id,r=this.liveRegion;(a=function(i,n,c){var d,h,u,p,m,f,g,v,_,w;i=t.sortResults(i,n,s);var b=[];for(d=0,h=i.length;h>d;d+=1)u=i[d],m=u.disabled===!0,p=!m&&o(u)!==e,f=u.children&&u.children.length>0,g=$("<li></li>"),g.addClass("select2-results-dept-"+c),g.addClass("select2-result"),g.addClass(p?"select2-result-selectable":"select2-result-unselectable"),m&&g.addClass("select2-disabled"),f&&g.addClass("select2-result-with-children"),g.addClass(l.opts.formatResultCssClass(u)),g.attr("role","presentation"),v=$(document.createElement("div")),v.addClass("select2-result-label"),v.attr("id","select2-result-label-"+z()),v.attr("role","option"),w=t.formatResult(u,v,s,l.opts.escapeMarkup),w!==e&&(v.html(w),g.append(v)),f&&(_=$("<ul></ul>"),_.addClass("select2-result-sub"),a(u.children,_,c+1),g.append(_)),g.data("select2-data",u),b.push(g[0]);n.append(b),r.text(t.formatMatches(i.length))})(n,i,0)}},$.fn.select2.defaults,t),"function"!=typeof t.id&&(s=t.id,t.id=function(e){return e[s]}),$.isArray(t.element.data("select2Tags"))){if("tags"in t)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+t.element.attr("id");t.tags=t.element.data("select2Tags")}if(n?(t.query=this.bind(function(t){var n={results:[],more:!1},s=t.term,a,o,r;r=function(e,i){var n;e.is("option")?t.matcher(s,e.text(),e)&&i.push(l.optionToData(e)):e.is("optgroup")&&(n=l.optionToData(e),e.children().each2(function(e,t){r(t,n.children)}),n.children.length>0&&i.push(n))},a=i.children(),this.getPlaceholder()!==e&&a.length>0&&(o=this.getPlaceholderOption(),o&&(a=a.not(o))),a.each2(function(e,t){r(t,n.results)}),t.callback(n)}),t.id=function(e){return e.id}):"query"in t||("ajax"in t?(r=t.element.data("ajax-url"),r&&r.length>0&&(t.ajax.url=r),t.query=b.call(t.element,t.ajax)):"data"in t?t.query=x(t.data):"tags"in t&&(t.query=y(t.tags),t.createSearchChoice===e&&(t.createSearchChoice=function(e){return{id:$.trim(e),text:$.trim(e)}}),t.initSelection===e&&(t.initSelection=function(e,i){var n=[];$(o(e.val(),t.separator)).each(function(){var e={id:this,text:this},i=t.tags;$.isFunction(i)&&(i=i()),$(i).each(function(){return a(this.id,e.id)?(e=this,!1):void 0}),n.push(e)}),i(n)}))),"function"!=typeof t.query)throw"query function not defined for Select2 "+t.element.attr("id");if("top"===t.createSearchChoicePosition)t.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===t.createSearchChoicePosition)t.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof t.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return t},monitorSource:function(){var t=this.opts.element,i,n=this;t.on("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var i=t.prop("disabled");i===e&&(i=!1),this.enable(!i);var n=t.prop("readonly");n===e&&(n=!1),this.readonly(n),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(C(this.opts.containerCssClass,this.opts.element)),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(C(this.opts.dropdownCssClass,this.opts.element))}),t.length&&t[0].attachEvent&&t.each(function(){this.attachEvent("onpropertychange",n._sync)}),i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,i!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(function(e){$.each(e,n._sync)}),this.propertyObserver.observe(t.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var t=$.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(t),!t.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=$.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var e=this.dropdown,t=this.container.offset(),i=this.container.outerHeight(!1),n=this.container.outerWidth(!1),s=e.outerHeight(!1),a=$(window),o=a.width(),r=a.height(),l=a.scrollLeft()+o,c=a.scrollTop()+r,d=t.top+i,h=t.left,u=c>=d+s,p=t.top-s>=a.scrollTop(),m=e.outerWidth(!1),f=l>=h+m,g=e.hasClass("select2-drop-above"),v,_,w,b,x;g?(_=!0,!p&&u&&(w=!0,_=!1)):(_=!1,!u&&p&&(w=!0,_=!0)),w&&(e.hide(),t=this.container.offset(),i=this.container.outerHeight(!1),n=this.container.outerWidth(!1),s=e.outerHeight(!1),l=a.scrollLeft()+o,c=a.scrollTop()+r,d=t.top+i,h=t.left,m=e.outerWidth(!1),f=l>=h+m,e.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(x=$(".select2-results",e)[0],e.addClass("select2-drop-auto-width"),e.css("width",""),m=e.outerWidth(!1)+(x.scrollHeight===x.clientHeight?0:A.width),m>n?n=m:m=n,s=e.outerHeight(!1),f=l>=h+m):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(v=this.body.offset(),d-=v.top,h-=v.left),f||(h=t.left+this.container.outerWidth(!1)-m),b={left:h,width:n},_?(b.top=t.top-s,b.bottom="auto",this.container.addClass("select2-drop-above"),e.addClass("select2-drop-above")):(b.top=d,b.bottom="auto",this.container.removeClass("select2-drop-above"),e.removeClass("select2-drop-above")),b=$.extend(b,C(this.opts.dropdownCss,this.opts.element)),e.css(b)},shouldOpen:function(){var e;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(e=$.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),N.on("mousemove.select2Event",function(e){F.x=e.pageX,F.y=e.pageY}),!0):!1},opening:function(){var e=this.containerEventName,i="scroll."+e,n="resize."+e,s="orientationchange."+e,a;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),a=$("#select2-drop-mask"),0==a.length&&(a=$(document.createElement("div")),a.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),a.hide(),a.appendTo(this.body),a.on("mousedown touchstart click",function(e){t(a);var i=$("#select2-drop"),n;i.length>0&&(n=i.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close(),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==a[0]&&this.dropdown.before(a),$("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),a.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each(function(){$(this).on(n+" "+i+" "+s,function(e){o.opened()&&o.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerEventName,t="scroll."+e,i="resize."+e,n="orientationchange."+e;
this.container.parents().add(window).each(function(){$(this).off(t).off(i).off(n)}),this.clearDropdownAlignmentPreference(),$("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),N.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger($.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return C(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e=this.results,t,i,n,s,a,o,r,l;if(i=this.highlight(),!(0>i)){if(0==i)return void e.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),n=$(t[i]),l=(n.offset()||{}).top||0,s=l+n.outerHeight(!0),i===t.length-1&&(r=e.find("li.select2-more-results"),r.length>0&&(s=r.offset().top+r.outerHeight(!0))),a=e.offset().top+e.outerHeight(!0),s>a&&e.scrollTop(e.scrollTop()+(s-a)),o=l-e.offset().top,0>o&&"none"!=n.css("display")&&e.scrollTop(e.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var t=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<t.length;){i+=e;var n=$(t[i]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(e){var t=this.findHighlightableChoices(),i,s;return 0===arguments.length?n(t.filter(".select2-highlighted")[0],t.get()):(e>=t.length&&(e=t.length-1),0>e&&(e=0),this.removeHighlight(),i=$(t[e]),i.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),s=i.data("select2-data"),void(s&&this.opts.element.trigger({type:"select2-highlight",val:this.id(s),choice:s})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var t=$(e.target).closest(".select2-result-selectable");if(t.length>0&&!t.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(t))}else 0==t.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),i,n=this.resultsPage+1,s=this,a=this.search.val(),o=this.context;0!==t.length&&(i=t.offset().top-e.offset().top-e.height(),i<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:a,page:n,context:o,matcher:this.opts.matcher,callback:this.bind(function(i){s.opened()&&(s.opts.populateResults.call(this,e,i.results,{term:a,page:n,context:o}),s.postprocessResults(i,!1,!1),i.more===!0?(t.detach().appendTo(e).text(C(s.opts.formatLoadMore,s.opts.element,n+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):t.remove(),s.positionDropdown(),s.resultsPage=n,s.context=i.context,this.opts.element.trigger({type:"select2-loaded",items:i}))})})))},tokenize:function(){},updateResults:function(t){function i(){s.removeClass("select2-active"),c.positionDropdown(),c.liveRegion.text(o.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?o.text():c.opts.formatMatches(o.find(".select2-result-selectable").length))}function n(e){o.html(e),i()}var s=this.search,o=this.results,r=this.opts,l,c=this,d,h=s.val(),u=$.data(this.container,"select2-last-term"),p;if((t===!0||!u||!a(h,u))&&($.data(this.container,"select2-last-term",h),t===!0||this.showSearchInput!==!1&&this.opened())){p=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(l=this.data(),$.isArray(l)&&l.length>=m&&k(r.formatSelectionTooBig,"formatSelectionTooBig")))return void n("<li class='select2-selection-limit'>"+C(r.formatSelectionTooBig,r.element,m)+"</li>");if(s.val().length<r.minimumInputLength)return n(k(r.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+C(r.formatInputTooShort,r.element,s.val(),r.minimumInputLength)+"</li>":""),void(t&&this.showSearch&&this.showSearch(!0));if(r.maximumInputLength&&s.val().length>r.maximumInputLength)return void n(k(r.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+C(r.formatInputTooLong,r.element,s.val(),r.maximumInputLength)+"</li>":"");r.formatSearching&&0===this.findHighlightableChoices().length&&n("<li class='select2-searching'>"+C(r.formatSearching,r.element)+"</li>"),s.addClass("select2-active"),this.removeHighlight(),d=this.tokenize(),d!=e&&null!=d&&s.val(d),this.resultsPage=1,r.query({element:r.element,term:s.val(),page:this.resultsPage,context:null,matcher:r.matcher,callback:this.bind(function(l){var d;if(p==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=l.context===e?null:l.context,this.opts.createSearchChoice&&""!==s.val()&&(d=this.opts.createSearchChoice.call(c,s.val(),l.results),d!==e&&null!==d&&c.id(d)!==e&&null!==c.id(d)&&0===$(l.results).filter(function(){return a(c.id(this),c.id(d))}).length&&this.opts.createSearchChoicePosition(l.results,d)),0===l.results.length&&k(r.formatNoMatches,"formatNoMatches"))return void n("<li class='select2-no-results'>"+C(r.formatNoMatches,r.element,s.val())+"</li>");o.empty(),c.opts.populateResults.call(this,o,l.results,{term:s.val(),page:this.resultsPage,context:null}),l.more===!0&&k(r.formatLoadMore,"formatLoadMore")&&(o.append("<li class='select2-more-results'>"+r.escapeMarkup(C(r.formatLoadMore,r.element,this.resultsPage))+"</li>"),window.setTimeout(function(){c.loadMoreIfNeeded()},10)),this.postprocessResults(l,t),i(),this.opts.element.trigger({type:"select2-loaded",items:l})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){u(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),i=this.results.find(".select2-highlighted"),n=i.closest(".select2-result").data("select2-data");n?(this.highlight(t),this.onSelect(n,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var t=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===$.trim(t.text())&&""===t.val())return t}},initContainerWidth:function(){function t(){var t,i,n,s,a,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(t=this.opts.element.attr("style"),t!==e)for(i=t.split(";"),s=0,a=i.length;a>s;s+=1)if(o=i[s].replace(/\s/g,""),n=o.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==n&&n.length>=1)return n[1];return"resolve"===this.opts.width?(t=this.opts.element.css("width"),t.indexOf("%")>0?t:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return $.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=t.call(this);null!==i&&this.container.css("width",i)}}),E=D(I,{createContainer:function(){var e=$(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,i,n;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),t=this.search.get(0),t.createTextRange?(i=t.createTextRange(),i.collapse(!1),i.select()):t.setSelectionRange&&(n=this.search.val().length,t.setSelectionRange(n,n))),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger($.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){$("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"selection","focusser")},initContainer:function(){var e,i=this.container,n=this.dropdown,s=z(),a;this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=e=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+s),this.focusser.attr("aria-labelledby","select2-chosen-"+s),this.results.attr("id","select2-results-"+s),this.search.attr("aria-owns","select2-results-"+s),this.focusser.attr("id","s2id_autogen"+s),a=$("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(a.text()).attr("for",this.focusser.attr("id"));var o=this.opts.element.attr("title");this.opts.element.attr("title",o||a.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text($("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===O.PAGE_UP||e.which===O.PAGE_DOWN)return void m(e);switch(e.which){case O.UP:case O.DOWN:return this.moveHighlight(e.which===O.UP?-1:1),void m(e);case O.ENTER:return this.selectHighlighted(),void m(e);case O.TAB:return void this.selectHighlighted({noFocus:!0});case O.ESC:return this.cancel(e),void m(e)}}})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==O.TAB&&!O.isControl(e)&&!O.isFunctionKey(e)&&e.which!==O.ESC){if(this.opts.openOnEnter===!1&&e.which===O.ENTER)return void m(e);if(e.which==O.DOWN||e.which==O.UP||e.which==O.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void m(e)}return e.which==O.DELETE||e.which==O.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(e)):void 0}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),f(e),this.close(),this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(i){t(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(i)})),n.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),e.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger($.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");if(t){var i=$.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var n=this.getPlaceholderOption();this.opts.element.val(n?n.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))}},initSelection:function(){var t;if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var i=this;this.opts.initSelection.call(null,this.opts.element,function(t){t!==e&&null!==t&&(i.updateSelection(t),i.close(),i.setPlaceholder(),i.nextSearchTerm=i.opts.nextSearchTerm(t,i.search.val()))})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()===e?!1:(t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val()},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),t=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(e,i){var n=e.find("option").filter(function(){return this.selected&&!this.disabled});i(t.optionToData(n))}:"data"in e&&(e.initSelection=e.initSelection||function(t,i){var n=t.val(),s=null;e.query({matcher:function(t,i,o){var r=a(n,e.id(o));return r&&(s=o),r},callback:$.isFunction(i)?function(){i(s)}:$.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,i){var n=0,s=this,o=!0;if(this.findHighlightableChoices().each2(function(e,t){return a(s.id(t.data("select2-data")),s.opts.element.val())?(n=e,!1):void 0}),i!==!1&&this.highlight(t===!0&&n>=0?n:0),t===!0){var r=this.opts.minimumResultsForSearch;r>=0&&this.showSearch(S(e.results)>=r)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),$(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(e,t){if(this.triggerSelect(e)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),a(i,this.id(e))||this.triggerChange({added:e,removed:n})}},updateSelection:function(t){var i=this.selection.find(".select2-chosen"),n,s;this.selection.data("select2-data",t),i.empty(),null!==t&&(n=this.opts.formatSelection(t,i,this.opts.escapeMarkup)),n!==e&&i.append(n),s=this.opts.formatSelectionCssClass(t,i),s!==e&&i.addClass(s),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,i=!1,n=null,s=this,a=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(e,t){return n=s.optionToData(t),!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:a});else{if(!t&&0!==t)return void this.clear(i);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(e){s.opts.element.val(e?s.id(e):""),s.updateSelection(e),s.setPlaceholder(),i&&s.triggerChange({added:e,removed:a})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var i,n=!1;return 0===arguments.length?(i=this.selection.data("select2-data"),i==e&&(i=null),i):(arguments.length>1&&(n=arguments[1]),void(t?(i=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),n&&this.triggerChange({added:t,removed:i})):this.clear(n)))}}),P=D(I,{createContainer:function(){var e=$(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),t=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(e,i){var n=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,i){n.push(t.optionToData(i))}),i(n)}:"data"in e&&(e.initSelection=e.initSelection||function(t,i){var n=o(t.val(),e.separator),s=[];e.query({matcher:function(t,i,o){var r=$.grep(n,function(t){return a(t,e.id(o))}).length;return r&&s.push(o),r},callback:$.isFunction(i)?function(){for(var t=[],o=0;o<n.length;o++)for(var r=n[o],l=0;l<s.length;l++){var c=s[l];if(a(r,e.id(c))){t.push(c),s.splice(l,1);break}}i(t)}:$.noop})}),e},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){$("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"searchContainer","selection")},initContainer:function(){var e=".select2-choices",t;this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(e);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(e){i.search[0].focus(),i.selectChoice($(this))}),this.search.attr("id","s2id_autogen"+z()),this.search.prev().text($("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var i=t.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),s=i.next(".select2-search-choice:not(.select2-locked)"),a=p(this.search);if(i.length&&(e.which==O.LEFT||e.which==O.RIGHT||e.which==O.BACKSPACE||e.which==O.DELETE||e.which==O.ENTER)){var o=i;return e.which==O.LEFT&&n.length?o=n:e.which==O.RIGHT?o=s.length?s:null:e.which===O.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),o=n.length?n:s):e.which==O.DELETE?this.unselect(i.first())&&(this.search.width(10),o=s.length?s:null):e.which==O.ENTER&&(o=null),this.selectChoice(o),m(e),void(o&&o.length||this.open())}if((e.which===O.BACKSPACE&&1==this.keydowns||e.which==O.LEFT)&&0==a.offset&&!a.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void m(e);if(this.selectChoice(null),this.opened())switch(e.which){case O.UP:case O.DOWN:return this.moveHighlight(e.which===O.UP?-1:1),void m(e);case O.ENTER:return this.selectHighlighted(),void m(e);case O.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case O.ESC:return this.cancel(e),void m(e)}if(e.which!==O.TAB&&!O.isControl(e)&&!O.isFunctionKey(e)&&e.which!==O.BACKSPACE&&e.which!==O.ESC){if(e.which===O.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===O.PAGE_UP||e.which===O.PAGE_DOWN)&&m(e),e.which===O.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger($.Event("select2-blur"))})),this.container.on("click",e,this.bind(function(e){this.isInterfaceEnabled()&&($(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",e,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){var t;if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var i=this;this.opts.initSelection.call(null,this.opts.element,function(t){t!==e&&null!==t&&(i.updateSelection(t),i.close(),i.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),i=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger($.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var t=[],i=[],s=this;$(e).each(function(){n(s.id(this),t)<0&&(t.push(s.id(this)),i.push(this))}),e=i,this.selection.find(".select2-search-choice").remove(),$(e).each(function(){s.addSelectedChoice(this)}),s.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,i){this.triggerSelect(t)&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(t,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var i=!t.locked,n=$("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=$("<li class='select2-search-choice select2-locked'><div></div></li>"),a=i?n:s,o=this.id(t),r=this.getVal(),l,c;l=this.opts.formatSelection(t,a.find("div"),this.opts.escapeMarkup),l!=e&&a.find("div").replaceWith("<div>"+l+"</div>"),c=this.opts.formatSelectionCssClass(t,a.find("div")),c!=e&&a.addClass(c),i&&a.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect($(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",t),a.insertBefore(this.searchContainer),r.push(o),this.setVal(r)},unselect:function(e){var t=this.getVal(),i,s;if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(i=e.data("select2-data")){var a=$.Event("select2-removing");if(a.val=this.id(i),a.choice=i,this.opts.element.trigger(a),a.isDefaultPrevented())return!1;for(;(s=n(this.id(i),t))>=0;)t.splice(s,1),this.setVal(t),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(e,t,i){var s=this.getVal(),a=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),r=this;a.each2(function(e,t){var i=r.id(t.data("select2-data"));n(i,s)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&i!==!1&&r.highlight(0),!this.opts.createSearchChoice&&!a.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&k(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+C(r.opts.formatNoMatches,r.opts.element,r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-r(this.search)},resizeSearch:function(){var e,t,i,n,s,a=r(this.search);e=g(this.search)+10,t=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,s=i-(t-n)-a,e>s&&(s=i-a),40>s&&(s=i-a),0>=s&&(s=e),this.search.width(Math.floor(s))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),o(e,this.opts.separator))},setVal:function(e){var t;this.select?this.select.val(e):(t=[],$(e).each(function(){n(this,t)<0&&t.push(this)}),this.opts.element.val(0===t.length?"":t.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),i=0;i<t.length;i++)for(var n=0;n<e.length;n++)a(this.opts.id(t[i]),this.opts.id(e[n]))&&(t.splice(i,1),i>0&&i--,e.splice(n,1),n--);return{added:t,removed:e}},val:function(t,i){var n,s=this;if(0===arguments.length)return this.getVal();if(n=this.data(),n.length||(n=[]),!t&&0!==t)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(t),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var t=$.map(e,s.id);s.setVal(t),s.updateSelection(e),s.clearSearch(),i&&s.triggerChange(s.buildChangeDetails(n,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],t=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(t.opts.id($(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,t){var i=this,n,s;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return $(this).data("select2-data")}).get():(s=this.data(),e||(e=[]),n=$.map(e,function(e){return i.opts.id(e)}),this.setVal(n),this.updateSelection(e),this.clearSearch(),t&&this.triggerChange(this.buildChangeDetails(s,this.data())),void 0)}}),$.fn.select2=function(){var t=Array.prototype.slice.call(arguments,0),i,s,a,o,r,l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],d=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===t.length||"object"==typeof t[0])i=0===t.length?{}:$.extend({},t[0]),i.element=$(this),"select"===i.element.get(0).tagName.toLowerCase()?r=i.element.prop("multiple"):(r=i.multiple||!1,"tags"in i&&(i.multiple=r=!0)),s=r?new window.Select2["class"].multi:new window.Select2["class"].single,s.init(i);else{if("string"!=typeof t[0])throw"Invalid arguments to select2 plugin: "+t;if(n(t[0],l)<0)throw"Unknown method: "+t[0];if(o=e,s=$(this).data("select2"),s===e)return;if(a=t[0],"container"===a?o=s.container:"dropdown"===a?o=s.dropdown:(h[a]&&(a=h[a]),o=s[a].apply(s,t.slice(1))),n(t[0],c)>=0||n(t[0],d)>=0&&1==t.length)return!1
}}),o===e?this:o},$.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,n){var s=[];return _(e.text,i.term,s,n),s.join("")},formatSelection:function(t,i,n){return t?n(t.text):e},sortResults:function(e,t,i){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(t,i){return e},formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results…"},formatSearching:function(){return"Searching…"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},matcher:function(e,t){return i(""+t).toUpperCase().indexOf(i(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:T,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(t,i){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t&&e.opts.minimumResultsForSearch<0?!1:!0}},$.fn.select2.ajaxDefaults={transport:$.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:b,local:x,tags:y},util:{debounce:d,markMatch:_,escapeMarkup:w,stripDiacritics:i},"class":{"abstract":I,single:E,multi:P}}}}(jQuery),function($){var e="Close",t="BeforeClose",i="AfterClose",n="BeforeAppend",s="MarkupParse",a="Open",o="Change",r="mfp",l="."+r,c="mfp-ready",d="mfp-removing",h="mfp-prevent-close",u,p=function(){},m=!!window.jQuery,f,g=$(window),v,_,w,b,x,y=function(e,t){u.ev.on(r+e+l,t)},k=function(e,t,i,n){var s=document.createElement("div");return s.className="mfp-"+e,i&&(s.innerHTML=i),n?t&&t.appendChild(s):(s=$(s),t&&s.appendTo(t)),s},C=function(e,t){u.ev.triggerHandler(r+e,t),u.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),u.st.callbacks[e]&&u.st.callbacks[e].apply(u,$.isArray(t)?t:[t]))},S=function(e){return e===x&&u.currTemplate.closeBtn||(u.currTemplate.closeBtn=$(u.st.closeMarkup.replace("%title%",u.st.tClose)),x=e),u.currTemplate.closeBtn},T=function(){$.magnificPopup.instance||(u=new p,u.init(),$.magnificPopup.instance=u)},M=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};p.prototype={constructor:p,init:function(){var e=navigator.appVersion;u.isIE7=-1!==e.indexOf("MSIE 7."),u.isIE8=-1!==e.indexOf("MSIE 8."),u.isLowIE=u.isIE7||u.isIE8,u.isAndroid=/android/gi.test(e),u.isIOS=/iphone|ipad|ipod/gi.test(e),u.supportsTransition=M(),u.probablyMobile=u.isAndroid||u.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),_=$(document),u.popupsCache={}},open:function(e){v||(v=$(document.body));var t;if(e.isObj===!1){u.items=e.items.toArray(),u.index=0;var i=e.items,n;for(t=0;t<i.length;t++)if(n=i[t],n.parsed&&(n=n.el[0]),n===e.el[0]){u.index=t;break}}else u.items=$.isArray(e.items)?e.items:[e.items],u.index=e.index||0;if(u.isOpen)return void u.updateItemHTML();u.types=[],b="",u.ev=e.mainEl&&e.mainEl.length?e.mainEl.eq(0):_,e.key?(u.popupsCache[e.key]||(u.popupsCache[e.key]={}),u.currTemplate=u.popupsCache[e.key]):u.currTemplate={},u.st=$.extend(!0,{},$.magnificPopup.defaults,e),u.fixedContentPos="auto"===u.st.fixedContentPos?!u.probablyMobile:u.st.fixedContentPos,u.st.modal&&(u.st.closeOnContentClick=!1,u.st.closeOnBgClick=!1,u.st.showCloseBtn=!1,u.st.enableEscapeKey=!1),u.bgOverlay||(u.bgOverlay=k("bg").on("click"+l,function(){u.close()}),u.wrap=k("wrap").attr("tabindex",-1).on("click"+l,function(e){u._checkIfClose(e.target)&&u.close()}),u.container=k("container",u.wrap)),u.contentContainer=k("content"),u.st.preloader&&(u.preloader=k("preloader",u.container,u.st.tLoading));var o=$.magnificPopup.modules;for(t=0;t<o.length;t++){var r=o[t];r=r.charAt(0).toUpperCase()+r.slice(1),u["init"+r].call(u)}C("BeforeOpen"),u.st.showCloseBtn&&(u.st.closeBtnInside?(y(s,function(e,t,i,n){i.close_replaceWith=S(n.type)}),b+=" mfp-close-btn-in"):u.wrap.append(S())),u.st.alignTop&&(b+=" mfp-align-top"),u.wrap.css(u.fixedContentPos?{overflow:u.st.overflowY,overflowX:"hidden",overflowY:u.st.overflowY}:{top:g.scrollTop(),position:"absolute"}),(u.st.fixedBgPos===!1||"auto"===u.st.fixedBgPos&&!u.fixedContentPos)&&u.bgOverlay.css({height:_.height(),position:"absolute"}),u.st.enableEscapeKey&&_.on("keyup"+l,function(e){27===e.keyCode&&u.close()}),g.on("resize"+l,function(){u.updateSize()}),u.st.closeOnContentClick||(b+=" mfp-auto-cursor"),b&&u.wrap.addClass(b);var d=u.wH=g.height(),h={};if(u.fixedContentPos&&u._hasScrollBar(d)){var p=u._getScrollbarSize();p&&(h.marginRight=p)}u.fixedContentPos&&(u.isIE7?$("body, html").css("overflow","hidden"):h.overflow="hidden");var m=u.st.mainClass;return u.isIE7&&(m+=" mfp-ie7"),m&&u._addClassToMFP(m),u.updateItemHTML(),C("BuildControls"),$("html").css(h),u.bgOverlay.add(u.wrap).prependTo(u.st.prependTo||v),u._lastFocusedEl=document.activeElement,setTimeout(function(){u.content?(u._addClassToMFP(c),u._setFocus()):u.bgOverlay.addClass(c),_.on("focusin"+l,u._onFocusIn)},16),u.isOpen=!0,u.updateSize(d),C(a),e},close:function(){u.isOpen&&(C(t),u.isOpen=!1,u.st.removalDelay&&!u.isLowIE&&u.supportsTransition?(u._addClassToMFP(d),setTimeout(function(){u._close()},u.st.removalDelay)):u._close())},_close:function(){C(e);var t=d+" "+c+" ";if(u.bgOverlay.detach(),u.wrap.detach(),u.container.empty(),u.st.mainClass&&(t+=u.st.mainClass+" "),u._removeClassFromMFP(t),u.fixedContentPos){var n={marginRight:""};u.isIE7?$("body, html").css("overflow",""):n.overflow="",$("html").css(n)}_.off("keyup"+l+" focusin"+l),u.ev.off(l),u.wrap.attr("class","mfp-wrap").removeAttr("style"),u.bgOverlay.attr("class","mfp-bg"),u.container.attr("class","mfp-container"),!u.st.showCloseBtn||u.st.closeBtnInside&&u.currTemplate[u.currItem.type]!==!0||u.currTemplate.closeBtn&&u.currTemplate.closeBtn.detach(),u._lastFocusedEl&&$(u._lastFocusedEl).focus(),u.currItem=null,u.content=null,u.currTemplate=null,u.prevHeight=0,C(i)},updateSize:function(e){if(u.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*t;u.wrap.css("height",i),u.wH=i}else u.wH=e||g.height();u.fixedContentPos||u.wrap.css("height",u.wH),C("Resize")},updateItemHTML:function(){var e=u.items[u.index];u.contentContainer.detach(),u.content&&u.content.detach(),e.parsed||(e=u.parseEl(u.index));var t=e.type;if(C("BeforeChange",[u.currItem?u.currItem.type:"",t]),u.currItem=e,!u.currTemplate[t]){var i=u.st[t]?u.st[t].markup:!1;C("FirstMarkupParse",i),u.currTemplate[t]=i?$(i):!0}w&&w!==e.type&&u.container.removeClass("mfp-"+w+"-holder");var n=u["get"+t.charAt(0).toUpperCase()+t.slice(1)](e,u.currTemplate[t]);u.appendContent(n,t),e.preloaded=!0,C(o,e),w=e.type,u.container.prepend(u.contentContainer),C("AfterChange")},appendContent:function(e,t){u.content=e,e?u.st.showCloseBtn&&u.st.closeBtnInside&&u.currTemplate[t]===!0?u.content.find(".mfp-close").length||u.content.append(S()):u.content=e:u.content="",C(n),u.container.addClass("mfp-"+t+"-holder"),u.contentContainer.append(u.content)},parseEl:function(e){var t=u.items[e],i;if(t.tagName?t={el:$(t)}:(i=t.type,t={data:t,src:t.src}),t.el){for(var n=u.types,s=0;s<n.length;s++)if(t.el.hasClass("mfp-"+n[s])){i=n[s];break}t.src=t.el.attr("data-mfp-src"),t.src||(t.src=t.el.attr("href"))}return t.type=i||u.st.type||"inline",t.index=e,t.parsed=!0,u.items[e]=t,C("ElementParse",t),u.items[e]},addGroup:function(e,t){var i=function(i){i.mfpEl=this,u._openClick(i,e,t)};t||(t={});var n="click.magnificPopup";t.mainEl=e,t.items?(t.isObj=!0,e.off(n).on(n,i)):(t.isObj=!1,t.delegate?e.off(n).on(n,t.delegate,i):(t.items=e,e.off(n).on(n,i)))},_openClick:function(e,t,i){var n=void 0!==i.midClick?i.midClick:$.magnificPopup.defaults.midClick;if(n||2!==e.which&&!e.ctrlKey&&!e.metaKey){var s=void 0!==i.disableOn?i.disableOn:$.magnificPopup.defaults.disableOn;if(s)if($.isFunction(s)){if(!s.call(u))return!0}else if(g.width()<s)return!0;e.type&&(e.preventDefault(),u.isOpen&&e.stopPropagation()),i.el=$(e.mfpEl),i.delegate&&(i.items=t.find(i.delegate)),u.open(i)}},updateStatus:function(e,t){if(u.preloader){f!==e&&u.container.removeClass("mfp-s-"+f),t||"loading"!==e||(t=u.st.tLoading);var i={status:e,text:t};C("UpdateStatus",i),e=i.status,t=i.text,u.preloader.html(t),u.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),u.container.addClass("mfp-s-"+e),f=e}},_checkIfClose:function(e){if(!$(e).hasClass(h)){var t=u.st.closeOnContentClick,i=u.st.closeOnBgClick;if(t&&i)return!0;if(!u.content||$(e).hasClass("mfp-close")||u.preloader&&e===u.preloader[0])return!0;if(e===u.content[0]||$.contains(u.content[0],e)){if(t)return!0}else if(i&&$.contains(document,e))return!0;return!1}},_addClassToMFP:function(e){u.bgOverlay.addClass(e),u.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),u.wrap.removeClass(e)},_hasScrollBar:function(e){return(u.isIE7?_.height():document.body.scrollHeight)>(e||g.height())},_setFocus:function(){(u.st.focus?u.content.find(u.st.focus).eq(0):u.wrap).focus()},_onFocusIn:function(e){return e.target===u.wrap[0]||$.contains(u.wrap[0],e.target)?void 0:(u._setFocus(),!1)},_parseMarkup:function(e,t,i){var n;i.data&&(t=$.extend(i.data,t)),C(s,[e,t,i]),$.each(t,function(t,i){if(void 0===i||i===!1)return!0;if(n=t.split("_"),n.length>1){var s=e.find(l+"-"+n[0]);if(s.length>0){var a=n[1];"replaceWith"===a?s[0]!==i[0]&&s.replaceWith(i):"img"===a?s.is("img")?s.attr("src",i):s.replaceWith('<img src="'+i+'" class="'+s.attr("class")+'" />'):s.attr(n[1],i)}}else e.find(l+"-"+t).html(i)})},_getScrollbarSize:function(){if(void 0===u.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),u.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return u.scrollbarSize}},$.magnificPopup={instance:null,proto:p.prototype,modules:[],open:function(e,t){return T(),e=e?$.extend(!0,{},e):{},e.isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return $.magnificPopup.instance&&$.magnificPopup.instance.close()},registerModule:function(e,t){t.options&&($.magnificPopup.defaults[e]=t.options),$.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},$.fn.magnificPopup=function(e){T();var t=$(this);if("string"==typeof e)if("open"===e){var i,n=m?t.data("magnificPopup"):t[0].magnificPopup,s=parseInt(arguments[1],10)||0;n.items?i=n.items[s]:(i=t,n.delegate&&(i=i.find(n.delegate)),i=i.eq(s)),u._openClick({mfpEl:i},t,n)}else u.isOpen&&u[e].apply(u,Array.prototype.slice.call(arguments,1));else e=$.extend(!0,{},e),m?t.data("magnificPopup",e):t[0].magnificPopup=e,u.addGroup(t,e);return t};var D="inline",O,I,E,P=function(){E&&(I.after(E.addClass(O)).detach(),E=null)};$.magnificPopup.registerModule(D,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){u.types.push(D),y(e+"."+D,function(){P()})},getInline:function(e,t){if(P(),e.src){var i=u.st.inline,n=$(e.src);if(n.length){var s=n[0].parentNode;s&&s.tagName&&(I||(O=i.hiddenClass,I=k(O),O="mfp-"+O),E=n.after(I).detach().removeClass(O)),u.updateStatus("ready")}else u.updateStatus("error",i.tNotFound),n=$("<div>");return e.inlineElement=n,n}return u.updateStatus("ready"),u._parseMarkup(t,{},e),t}}});var z="ajax",j,F=function(){j&&v.removeClass(j)},N=function(){F(),u.req&&u.req.abort()};$.magnificPopup.registerModule(z,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){u.types.push(z),j=u.st.ajax.cursor,y(e+"."+z,N),y("BeforeChange."+z,N)},getAjax:function(e){j&&v.addClass(j),u.updateStatus("loading");var t=$.extend({url:e.src,success:function(t,i,n){var s={data:t,xhr:n};C("ParseAjax",s),u.appendContent($(s.data),z),e.finished=!0,F(),u._setFocus(),setTimeout(function(){u.wrap.addClass(c)},16),u.updateStatus("ready"),C("AjaxContentAdded")},error:function(){F(),e.finished=e.loadError=!0,u.updateStatus("error",u.st.ajax.tError.replace("%url%",e.src))}},u.st.ajax.settings);return u.req=$.ajax(t),""}}});var A,L=function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var t=u.st.image.titleSrc;if(t){if($.isFunction(t))return t.call(u,e);if(e.el)return e.el.attr(t)||""}return""};$.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=u.st.image,i=".image";u.types.push("image"),y(a+i,function(){"image"===u.currItem.type&&t.cursor&&v.addClass(t.cursor)}),y(e+i,function(){t.cursor&&v.removeClass(t.cursor),g.off("resize"+l)}),y("Resize"+i,u.resizeImage),u.isLowIE&&y("AfterChange",u.resizeImage)},resizeImage:function(){var e=u.currItem;if(e&&e.img&&u.st.image.verticalFit){var t=0;u.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",u.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,A&&clearInterval(A),e.isCheckingImgSize=!1,C("ImageHasSize",e),e.imgHidden&&(u.content&&u.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var t=0,i=e.img[0],n=function(s){A&&clearInterval(A),A=setInterval(function(){return i.naturalWidth>0?void u._onImageHasSize(e):(t>200&&clearInterval(A),t++,void(3===t?n(10):40===t?n(50):100===t&&n(500)))},s)};n(1)},getImage:function(e,t){var i=0,n=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===u.currItem&&(u._onImageHasSize(e),u.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,C("ImageLoadComplete")):(i++,200>i?setTimeout(n,100):s()))},s=function(){e&&(e.img.off(".mfploader"),e===u.currItem&&(u._onImageHasSize(e),u.updateStatus("error",a.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},a=u.st.image,o=t.find(".mfp-img");if(o.length){var r=document.createElement("img");r.className="mfp-img",e.img=$(r).on("load.mfploader",n).on("error.mfploader",s),r.src=e.src,o.is("img")&&(e.img=e.img.clone()),r=e.img[0],r.naturalWidth>0?e.hasSize=!0:r.width||(e.hasSize=!1)}return u._parseMarkup(t,{title:L(e),img_replaceWith:e.img},e),u.resizeImage(),e.hasSize?(A&&clearInterval(A),e.loadError?(t.addClass("mfp-loading"),u.updateStatus("error",a.tError.replace("%url%",e.src))):(t.removeClass("mfp-loading"),u.updateStatus("ready")),t):(u.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,t.addClass("mfp-loading"),u.findImageSize(e)),t)}}});var R,H=function(){return void 0===R&&(R=void 0!==document.createElement("p").style.MozTransform),R};$.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var i=u.st.zoom,n=".zoom",s;if(i.enabled&&u.supportsTransition){var a=i.duration,o=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,s={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},a="transition";return s["-webkit-"+a]=s["-moz-"+a]=s["-o-"+a]=s[a]=n,t.css(s),t},r=function(){u.content.css("visibility","visible")},l,c;y("BuildControls"+n,function(){if(u._allowZoom()){if(clearTimeout(l),u.content.css("visibility","hidden"),s=u._getItemToZoom(),!s)return void r();c=o(s),c.css(u._getOffset()),u.wrap.append(c),l=setTimeout(function(){c.css(u._getOffset(!0)),l=setTimeout(function(){r(),setTimeout(function(){c.remove(),s=c=null,C("ZoomAnimationEnded")},16)},a)},16)}}),y(t+n,function(){if(u._allowZoom()){if(clearTimeout(l),u.st.removalDelay=a,!s){if(s=u._getItemToZoom(),!s)return;c=o(s)}c.css(u._getOffset(!0)),u.wrap.append(c),u.content.css("visibility","hidden"),setTimeout(function(){c.css(u._getOffset())},16)}}),y(e+n,function(){u._allowZoom()&&(r(),c&&c.remove(),s=null)})}},_allowZoom:function(){return"image"===u.currItem.type},_getItemToZoom:function(){return u.currItem.hasSize?u.currItem.img:!1},_getOffset:function(e){var t;t=e?u.currItem.img:u.st.zoom.opener(u.currItem.el||u.currItem);var i=t.offset(),n=parseInt(t.css("padding-top"),10),s=parseInt(t.css("padding-bottom"),10);i.top-=$(window).scrollTop()-n;var a={width:t.width(),height:(m?t.innerHeight():t[0].offsetHeight)-s-n};return H()?a["-moz-transform"]=a.transform="translate("+i.left+"px,"+i.top+"px)":(a.left=i.left,a.top=i.top),a}}});var W="iframe",U="//about:blank",B=function(e){if(u.currTemplate[W]){var t=u.currTemplate[W].find("iframe");t.length&&(e||(t[0].src=U),u.isIE8&&t.css("display",e?"block":"none"))}};$.magnificPopup.registerModule(W,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){u.types.push(W),y("BeforeChange",function(e,t,i){t!==i&&(t===W?B():i===W&&B(!0))}),y(e+"."+W,function(){B()})},getIframe:function(e,t){var i=e.src,n=u.st.iframe;$.each(n.patterns,function(){return i.indexOf(this.index)>-1?(this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1):void 0});var s={};return n.srcAction&&(s[n.srcAction]=i),u._parseMarkup(t,s,e),u.updateStatus("ready"),t}}});var q=function(e){var t=u.items.length;return e>t-1?e-t:0>e?t+e:e},K=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};$.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var t=u.st.gallery,i=".mfp-gallery",n=Boolean($.fn.mfpFastClick);return u.direction=!0,t&&t.enabled?(b+=" mfp-gallery",y(a+i,function(){t.navigateByImgClick&&u.wrap.on("click"+i,".mfp-img",function(){return u.items.length>1?(u.next(),!1):void 0}),_.on("keydown"+i,function(e){37===e.keyCode?u.prev():39===e.keyCode&&u.next()})}),y("UpdateStatus"+i,function(e,t){t.text&&(t.text=K(t.text,u.currItem.index,u.items.length))}),y(s+i,function(e,i,n,s){var a=u.items.length;n.counter=a>1?K(t.tCounter,s.index,a):""}),y("BuildControls"+i,function(){if(u.items.length>1&&t.arrows&&!u.arrowLeft){var e=t.arrowMarkup,i=u.arrowLeft=$(e.replace(/%title%/gi,t.tPrev).replace(/%dir%/gi,"left")).addClass(h),s=u.arrowRight=$(e.replace(/%title%/gi,t.tNext).replace(/%dir%/gi,"right")).addClass(h),a=n?"mfpFastClick":"click";i[a](function(){u.prev()}),s[a](function(){u.next()}),u.isIE7&&(k("b",i[0],!1,!0),k("a",i[0],!1,!0),k("b",s[0],!1,!0),k("a",s[0],!1,!0)),u.container.append(i.add(s))}}),y(o+i,function(){u._preloadTimeout&&clearTimeout(u._preloadTimeout),u._preloadTimeout=setTimeout(function(){u.preloadNearbyImages(),u._preloadTimeout=null},16)}),void y(e+i,function(){_.off(i),u.wrap.off("click"+i),u.arrowLeft&&n&&u.arrowLeft.add(u.arrowRight).destroyMfpFastClick(),u.arrowRight=u.arrowLeft=null})):!1},next:function(){u.direction=!0,u.index=q(u.index+1),u.updateItemHTML()},prev:function(){u.direction=!1,u.index=q(u.index-1),u.updateItemHTML()},goTo:function(e){u.direction=e>=u.index,u.index=e,u.updateItemHTML()},preloadNearbyImages:function(){var e=u.st.gallery.preload,t=Math.min(e[0],u.items.length),i=Math.min(e[1],u.items.length),n;for(n=1;n<=(u.direction?i:t);n++)u._preloadItem(u.index+n);for(n=1;n<=(u.direction?t:i);n++)u._preloadItem(u.index-n)},_preloadItem:function(e){if(e=q(e),!u.items[e].preloaded){var t=u.items[e];t.parsed||(t=u.parseEl(e)),C("LazyLoad",t),"image"===t.type&&(t.img=$('<img class="mfp-img" />').on("load.mfploader",function(){t.hasSize=!0}).on("error.mfploader",function(){t.hasSize=!0,t.loadError=!0,C("LazyLoadError",t)}).attr("src",t.src)),t.preloaded=!0}}}});var V="retina";$.magnificPopup.registerModule(V,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=u.st.retina,t=e.ratio;t=isNaN(t)?t():t,t>1&&(y("ImageHasSize."+V,function(e,i){i.img.css({"max-width":i.img[0].naturalWidth/t,width:"100%"})}),y("ElementParse."+V,function(i,n){n.src=e.replaceSrc(n,t)}))}}}}),function(){var e=1e3,t="ontouchstart"in window,i=function(){g.off("touchmove"+s+" touchend"+s)},n="mfpFastClick",s="."+n;$.fn.mfpFastClick=function(n){return $(this).each(function(){var a=$(this),o;if(t){var r,l,c,d,h,u;a.on("touchstart"+s,function(t){d=!1,u=1,h=t.originalEvent?t.originalEvent.touches[0]:t.touches[0],l=h.clientX,c=h.clientY,g.on("touchmove"+s,function(e){h=e.originalEvent?e.originalEvent.touches:e.touches,u=h.length,h=h[0],(Math.abs(h.clientX-l)>10||Math.abs(h.clientY-c)>10)&&(d=!0,i())}).on("touchend"+s,function(t){i(),d||u>1||(o=!0,t.preventDefault(),clearTimeout(r),r=setTimeout(function(){o=!1},e),n())})})}a.on("click"+s,function(){o||n()})})},$.fn.destroyMfpFastClick=function(){$(this).off("touchstart"+s+" click"+s),t&&g.off("touchmove"+s+" touchend"+s)}}(),T()}(window.jQuery||window.Zepto),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function($){"use strict";function e(e){return this.each(function(){var i=$(this),n=i.data("bs.tooltip"),s="object"==typeof e&&e;(n||"destroy"!=e)&&(n||i.data("bs.tooltip",n=new t(this,s)),"string"==typeof e&&n[e]())})}var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.VERSION="3.2.0",t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(e,t,i){this.enabled=!0,this.type=e,this.$element=$(t),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&$(this.options.viewport.selector||this.options.viewport);for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if("manual"!=a){var o="hover"==a?"mouseenter":"focusin",r="hover"==a?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(e){return e=$.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},t.prototype.getDelegateOptions=function(){var e={},t=this.getDefaults();return this._options&&$.each(this._options,function(i,n){t[i]!=n&&(e[i]=n)}),e},t.prototype.enter=function(e){var t=e instanceof this.constructor?e:$(e.currentTarget).data("bs."+this.type);return t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),$(e.currentTarget).data("bs."+this.type,t)),clearTimeout(t.timeout),t.hoverState="in",t.options.delay&&t.options.delay.show?void(t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)):t.show()},t.prototype.leave=function(e){var t=e instanceof this.constructor?e:$(e.currentTarget).data("bs."+this.type);return t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),$(e.currentTarget).data("bs."+this.type,t)),clearTimeout(t.timeout),t.hoverState="out",t.options.delay&&t.options.delay.hide?void(t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)):t.hide()},t.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var t=$.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!t)return;var i=this,n=this.tip(),s=this.getUID(this.type);this.setContent(),n.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&n.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,r=o.test(a);r&&(a=a.replace(o,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var l=this.getPosition(),c=n[0].offsetWidth,d=n[0].offsetHeight;if(r){var h=a,u=this.$element.parent(),p=this.getPosition(u);a="bottom"==a&&l.top+l.height+d-p.scroll>p.height?"top":"top"==a&&l.top-p.scroll-d<0?"bottom":"right"==a&&l.right+c>p.width?"left":"left"==a&&l.left-c<p.left?"right":a,n.removeClass(h).addClass(a)}var m=this.getCalculatedOffset(a,l,c,d);this.applyPlacement(m,a);var f=function(){i.$element.trigger("shown.bs."+i.type),i.hoverState=null};$.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",f).emulateTransitionEnd(150):f()}},t.prototype.applyPlacement=function(e,t){var i=this.tip(),n=i[0].offsetWidth,s=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),o=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(o)&&(o=0),e.top=e.top+a,e.left=e.left+o,$.offset.setOffset(i[0],$.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},e),0),i.addClass("in");var r=i[0].offsetWidth,l=i[0].offsetHeight;"top"==t&&l!=s&&(e.top=e.top+s-l);var c=this.getViewportAdjustedDelta(t,e,r,l);c.left?e.left+=c.left:e.top+=c.top;var d=c.left?2*c.left-n+r:2*c.top-s+l,h=c.left?"left":"top",u=c.left?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][u],h)},t.prototype.replaceArrow=function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function e(){"in"!=t.hoverState&&i.detach(),t.$element.trigger("hidden.bs."+t.type)}var t=this,i=this.tip(),n=$.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(n),n.isDefaultPrevented()?void 0:(i.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(e){e=e||this.$element;var t=e[0],i="BODY"==t.tagName;return $.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:i?$(window).width():e.outerWidth(),height:i?$(window).height():e.outerHeight()},i?{top:0,left:0}:e.offset())},t.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var a=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var r=t.top-a-o.scroll,l=t.top+a-o.scroll+n;r<o.top?s.top=o.top-r:l>o.top+o.height&&(s.top=o.top+o.height-l)}else{var c=t.left-a,d=t.left+a+i;c<o.left?s.left=o.left-c:d>o.width&&(s.left=o.left+o.width-d)}return s},t.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},t.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},t.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(e){var t=this;e&&(t=$(e.currentTarget).data("bs."+this.type),t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),$(e.currentTarget).data("bs."+this.type,t))),t.tip().hasClass("in")?t.leave(t):t.enter(t)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=$.fn.tooltip;$.fn.tooltip=e,$.fn.tooltip.Constructor=t,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=i,this}}(jQuery),+function($){"use strict";function e(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}$.fn.emulateTransitionEnd=function(e){var t=!1,i=this;$(this).one("bsTransitionEnd",function(){t=!0});var n=function(){t||$(i).trigger($.support.transition.end)};return setTimeout(n,e),this},$(function(){$.support.transition=e(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){return $(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),jQuery(document).ready(function($){"use strict";$.SPFrameWork={showLoading:function(e){e.addClass("loading").stop(!1,!0).fadeIn(600)},hideLoading:function(e,t){t="error"===t?"save-error":"done",e.removeClass("loading").addClass(t).stop(!1,!0).delay(2e3).fadeOut(1e3,function(){$(this).removeClass(t)})},enableSaveButton:function(){$(".sp-panel input.save").removeAttr("disabled")},toggleCheckbox:function(e){var t=$(e).data("id"),i=$(".inner."+t),n=i.find("input.hidden-checkbox-value").first();n.val("on"===n.val()?"off":"on")},showHideSliderSettings:function(e){var t=$(e).parents(".slider-settings-container"),i=$(e).val();
"single"===i?$(".row",t).each(function(){$(this).hasClass("single")?$(this).show():$(this).hasClass("carousel")&&$(this).hide()}):"carousel"===i&&$(".row",t).each(function(){$(this).hasClass("carousel")?$(this).show():$(this).hasClass("single")&&$(this).hide()})},updateExportSettings:function(){var e={action:"sp_get_theme_settings_ajax",ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,e,function(e){$(".sp-panel .export-box").html(e)})},updateCustomStyles:function(e){var t={action:"sp_save_custom_styles_ajax",styles:e,ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,t)},textSizeSlider:function(){$(".size-slider").each(function(){var e=$("input",this),t=e.val(),i=$(this);t=t.length>0?parseInt(t,10):0,$(".slider",i).slider({min:1,max:50,step:1,value:t,slide:function(t,n){e.val(n.value+"px"),$("span.value",i).html(n.value+"px"),e.keyup()},create:function(){$("span.value",i).html(t+"px")}}),$("a.default-size",i).click(function(t){t.preventDefault();var n=$(this).data("default");n.length||(n=15),$(".slider",i).slider("value",parseInt(n,10)),$("span.value",i).html(n.replace("px","")+"px"),e.val(n).keyup()})})},reinitMCE:function(e){var t,i,n,s;i=e,s=!1,"undefined"==typeof i&&(t=$(".sp-tinymce-content"),i=t.attr("id")),n=$("#wp-"+i+"-wrap"),n.find(".wp-switch-editor").removeAttr("onclick"),$(".switch-tmce").trigger("click"),n.on("click",".switch-tmce",function(){if($(n).removeClass("html-active").addClass("tmce-active"),s){var e=window.switchEditors.wpautop(n.find("textarea.sp-tinymce-content").val());$("textarea.sp-tinymce-content").val(e)}"4"===tinymce.majorVersion?tinyMCE.execCommand("mceAddEditor",!0,i):window.tinyMCE.execCommand("mceAddControl",!0,i)}),n.on("click",".switch-html",function(){$(n).removeClass("tmce-active").addClass("html-active"),"4"===tinymce.majorVersion?tinyMCE.execCommand("mceRemoveEditor",!0,i):window.tinyMCE.execCommand("mceRemoveControl",!0,i)}),n.find(".switch-html").trigger("click"),n.find(".switch-tmce").trigger("click"),"html"===sp_theme.page_builder_default_editor_tab?n.find(".switch-html").trigger("click"):n.find(".switch-tmce").trigger("click"),s=!0},newMCE:function(e){var t,i,n,s;i=e,s=!1,"undefined"==typeof i&&(t=$(".sp-tinymce-content"),i=t.attr("id")),n=$("#wp-"+i+"-wrap"),n.find(".wp-switch-editor").removeAttr("onclick"),$(".switch-tmce").trigger("click"),n.on("click",".switch-tmce",function(){if($(n).removeClass("html-active").addClass("tmce-active"),s){var e=window.switchEditors.wpautop(n.find("textarea.sp-tinymce-content").val());$("textarea.sp-tinymce-content").val(e)}"4"===tinymce.majorVersion?tinyMCE.execCommand("mceAddEditor",!0,i):window.tinyMCE.execCommand("mceAddControl",!0,i)}),n.on("click",".switch-html",function(){$(n).removeClass("tmce-active").addClass("html-active"),"4"===tinymce.majorVersion?tinyMCE.execCommand("mceRemoveEditor",!0,i):window.tinyMCE.execCommand("mceRemoveControl",!0,i)}),n.find(".switch-html").trigger("click"),n.find(".switch-tmce").trigger("click"),"html"===sp_theme.page_builder_default_editor_tab?n.find(".switch-html").trigger("click"):n.find(".switch-tmce").trigger("click"),window.tinyMCE.get(i).setContent(""),s=!0},popup:function(e,t){var i=$('<div class="popup-mask"><div class="page-builder-modal popup-content"></div></div>');i.find(".popup-content").html(t),i.hide(),$("body").append(i),i.find(".popup-content").append('<button title="'+sp_theme.page_builder_settings_done_text+'" class="popup-close button button-primary">'+sp_theme.page_builder_settings_done_text+"</button>"),i.find(".popup-content").append('<button title="'+sp_theme.page_builder_settings_cancel_text+'" class="popup-cancel button">'+sp_theme.page_builder_settings_cancel_text+"</button>"),i.fadeIn("fast").find(".popup-content").center(),$(window).resize(function(){$(".popup-content").center()}),$(".popup-content").on("click",".popup-close",function(t){t.preventDefault(),$.SPFrameWork.closePopup(e,"save")}),$(".popup-content").on("click",".popup-cancel",function(t){t.preventDefault(),$.SPFrameWork.closePopup(e,"cancel")})},closePopup:function(e,t){var i,n=$(".popup-content").find(".sp-tinymce-content").attr("id");try{i=window.tinyMCE.get(n).getContent(),"4"===tinymce.majorVersion?window.tinyMCE.execCommand("mceRemoveEditor",!0,n):window.tinyMCE.execCommand("mceRemoveControl",!0,n)}catch(s){i=$("textarea.sp-tinymce-content").val()}"save"===t&&e.find(".pb-textarea").val(i),$(".popup-content").remove(),$(".popup-mask").fadeOut("fast").remove()},init:function(){function e(){var e=[];return $(".contact-form-field-item").each(function(){e.push($(this).attr("data-field-id"))}),Math.max.apply(Math,e)}function t(){$(".contact-form-field-item").each(function(){$(this).find(".required-cb").on("click",function(){$(this).next().val($(this).is(":checked")?"on":"off")})})}function i(){$("ul.option-row").off("click",".remove-option"),$("ul.option-row").on("click",".remove-option",function(e){e.preventDefault(),$(this).parents(".contact-form-field-item").find("ul.option-row").length>1&&$(this).parents("ul.option-row").remove()})}function n(){$("ul.add-option-row").off("click",".add-option"),$("ul.add-option-row").on("click",".add-option",function(e){e.preventDefault();var t=$(this),n=t.parents(".contact-form-field-item").attr("data-field-id"),s=$('<ul class="option-row"><li><i class="icon-options-indicator" aria-hidden="true"></i> '+sp_theme.contact_form_option_name+' <input type="text" name="field_options[][field_'+n+'][]" value="" /> <a href="#" class="remove-option button" title="'+sp_theme.contact_form_remove_option+'">'+sp_theme.contact_form_remove_option+'</a><i class="icon-reorder option-field-handle" aria-hidden="true"></i></li></ul>');s.insertAfter(t.parents("ul.add-option-row").prev("ul.option-row")),i(),t.parents(".contact-form-field-item").find("ul.option-row").is(":hidden")&&t.parents(".contact-form-field-item").find("ul.option-row").show()})}function s(){$.fn.sortable&&$(".contact-form-field-item").sortable({items:"ul.option-row",cursor:"move",placeholder:"cf-or-sortable-placeholder",handle:".option-field-handle"})}function a(){$(".page-builder-section .settings-container .settings").html(""),$(".page-builder-section .settings-container").slideUp("fast")}function o(){$(".page-builder-section").each(function(){var e=1,t=0;$(".rows-wrapper .row-container",this).each(function(i){var n=String($("p.row-width input",this).attr("name")),s=n.replace(/\[row\]\[\d+\]|\[row\]\[\]/,"[row]["+i+"]");$("p.row-width input",this).attr("name",s);var a=String($("p.row-status input",this).attr("name")),o=a.replace(/\[row\]\[\d+\]|\[row\]\[\]/,"[row]["+i+"]");$("p.row-status input",this).attr("name",o),$(".pb-row-columns",this).prop("name","pb[row]["+t+"][row_column_class]");var r=1;$(".columns-wrapper .column",this).each(function(t){$(".module-element",this).each(function(n){$(".module-value",this).each(function(){var s=String($(this).attr("name")),a=s.replace(/\[row\]\[\d+\]|\[row\]\[\]/,"[row]["+i+"]"),o=a.replace(/\[column\]\[\d+\]|\[column\]\[\]/,"[column]["+t+"]"),l=o.replace(/\[module\]\[\d+\]|\[module\]\[\]/,"[module]["+n+"]");if($(this).attr("name",l),"widget_area"===$(this).data("module")){var c=$(this).data("page-id"),d=$(this).data("page-name");$(this).val(d+"("+c+") Row("+e+") Col("+r+")")}})}),$(this).find("h3.column-heading .col-count").html(r),r++}),$(this).find("h3.row-heading .row-count").html(e),e++,t++})})}function r(){$.fn.sortable&&$(".page-builder-section").each(function(){var e=$(this).find(".rows-wrapper");e.sortable({items:$(".row-container",e),placeholder:"sortable-placeholder",handle:".reorder-row",update:function(){o(),a()}})})}function l(){$.fn.sortable&&$(".page-builder-section").each(function(){var e=$(this).find(".column .inner");e.sortable({items:$(".module-element",e),connectWith:".column .inner",placeholder:"sortable-placeholder",distance:20,update:function(){o(),a()}})})}function c(){var e=$("input[name=post_id]").val();$.fn.droppable&&$(".page-builder-section").each(function(){$(this).find(".column .inner").each(function(){var t=$(this);t.droppable({accept:".module",activeClass:"ui-state-highlight",tolerance:"touch",drop:function(i,n){var s=n.draggable.attr("data-id"),r={action:"sp_page_builder_get_module_ajax",ajaxCustomNonce:sp_theme.ajaxCustomNonce,module:s,post_id:e};$.post(sp_theme.ajaxurl,r,function(e){t.append(e),l(),o(),a()})}})})})}function d(){$.fn.draggable&&$(".page-builder-section .rows-wrapper").each(function(){$(this).find(".module").draggable({helper:"clone"})})}$.fn.center=function(e){return this.each(function(){var t=$(this);t.css({position:e?"absolute":"fixed",left:"50%",top:"50%"}).css({marginLeft:"-"+t.outerWidth()/2+"px",marginTop:"-"+t.outerHeight()/2+"px"}),e&&t.css({marginTop:parseInt(t.css("marginTop"),10)+$(window).scrollTop(),marginLeft:parseInt(t.css("marginLeft"),10)+$(window).scrollLeft()})})},function(e){$.fn.clone=function(){for(var t=e.apply(this,arguments),i=this.find("textarea").add(this.filter("textarea")),n=t.find("textarea").add(t.filter("textarea")),s=this.find("select").add(this.filter("select")),a=t.find("select").add(t.filter("select")),o=0,r=i.length;r>o;++o)$(n[o]).val($(i[o]).val());for(var l=0,c=s.length;c>l;++l)a[l].selectedIndex=s[l].selectedIndex;return t}}($.fn.clone),$.fn.tabs&&$("#sp-main-tabs, .sp-sub-tabs").tabs({fx:{opacity:"toggle",duration:200}}),$.fn.wpColorPicker&&$(".sp-panel input.sp-colorpicker").wpColorPicker({change:function(){$.SPFrameWork.enableSaveButton()}}),$.fn.wpColorPicker&&$(".slider-settings-container input.sp-colorpicker").wpColorPicker(),$.fn.datetimepicker&&($(".sp-panel input.datepicker").datetimepicker(),$("#ui-datepicker-div").wrap('<div class="jquery-ui-style" />')),$("#sp-panel-form").on("change keypress input",function(){$.SPFrameWork.enableSaveButton()}),$(".sp-panel .slide-toggle").toggle(function(e){e.preventDefault(),$(this).parents(".panel").find(".accordion-container").slideDown(),$(this).html("[ - ]"),$(this).parents(".panel").find("h3.header span").removeClass("caret-closed").addClass("caret-open")},function(){$(this).parents(".panel").find(".accordion-container").slideUp(),$(this).html("[ + ]"),$(this).parents(".panel").find("h3.header span").removeClass("caret-open").addClass("caret-closed")});var h;$(".media-upload").on("click",function(e){e.preventDefault();var t=$(this).data("id"),i=$(".inner."+t),n=$(".meta."+t);h=wp.media.frames.mediaFrame=wp.media({title:$(this).data("uploader_title"),button:{text:$(this).data("uploader_button_text")},library:{type:"image"},multiple:!1}),h.on("select",function(){var e=h.state().get("selection").first().toJSON();i.find("input.media-file").val(e.url).show(),e.sizes.length>0?n.find(".image-preview img").attr("src",e.sizes.thumbnail.url):n.find(".image-preview img").attr("src",e.url),n.find(".image-preview").fadeIn("fast"),n.find("input.attachment-id").val(e.id),n.find("p.remove-media").show(),$.SPFrameWork.enableSaveButton()}),h.open()}),$("p.remove-media a").click(function(e){e.preventDefault();var t=$(this).data("id"),i=$(".inner."+t),n=$(".meta."+t);i.find("input.media-file").val("").hide(),n.find(".image-preview img").attr("src",""),n.find(".image-preview").hide(),n.find("input.attachment-id").val(""),$.SPFrameWork.enableSaveButton(),$(this).parent().hide()}),$(".sp-panel").on("change",'select[name="admin_login_background_image"]',function(){var e=$(this),t=e.parents("tr.select-module").next("tr.upload-module"),i=t.next("tr.upload-module.meta");"custom"===e.val()?(t.css("visibility","visible"),t.find(".media-upload").css("visibility","visible"),i.css("visibility","visible"),t.find(".media-file").val().length&&(i.find(".image-preview").show(),i.find("p.remove-media").show())):(t.css("visibility","hidden"),t.find(".media-upload").css("visibility","hidden"),i.css("visibility","hidden"),i.find(".image-preview").hide(),i.find("p.remove-media").hide())});var u;if($(".slider-media-upload").on("click",function(e){e.preventDefault();var t=$(this).prev(".preview-box"),i=$(this).data("post-id");u=wp.media.frames.sliderMediaFrame=wp.media({title:$(this).data("uploader_title"),button:{text:$(this).data("uploader_button_text")},multiple:!0}),u.on("select",function(){var e=u.state().get("selection").toJSON();$(e).each(function(){var e=this.id,n={action:"sp_set_slide_media_object_ajax",attachment_id:e,post_id:i,size:"slider_slide_list",ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,n,function(e){var i=$.parseJSON(e);t.append(i.attachmentObject)})})}),u.open()}),$(".slider-media-container").on("click","a.remove-media",function(e){e.preventDefault();var t=$(this).parent(),i=t.data("attachment-id"),n=t.data("post-id"),s={action:"sp_remove_slide_media_ajax",attachment_id:i,post_id:n,ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,s,function(e){"done"===e&&(t.remove(),$(".slide-settings-container .inner-container").html(""))})}),$(".slider-settings-container select[name=type]").change(function(){$.SPFrameWork.showHideSliderSettings(this),$(".slide-settings-container .inner-container").html(""),$(".slider-media-container img").removeClass("active"),$(".slider-media-container span.edit").removeClass("active");var e=$("#post_ID").val(),t=$(this).val(),i={action:"sp_save_slider_type_ajax",post_id:e,type:t,ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,i)}),$.SPFrameWork.showHideSliderSettings(".slider-settings-container select[name=type]"),$(".slider-settings-container .font-select").each(function(){var e=$(this);e.on("change",function(){var t=e.val(),i=$(e).parents(".row").next(".row").find("select.font-variant-select"),n=$(i).parents(".row").next(".row").find("select.font-subset-select"),s={action:"sp_font_select_ajax",font:t,ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,s,function(e){if(e.length>0){var t=$.parseJSON(e);i.select2("destroy"),n.select2("destroy"),i.html(t.variants),n.html(t.subsets),i.select2({width:"element",minimumResultsForSearch:20}),n.select2({width:"element",minimumResultsForSearch:20})}})})}),$.fn.sortable&&$(".slider-media-container .preview-box.sortable").sortable({cursor:"move",placeholder:"slider-sortable-placeholder",stop:function(e,t){var i=$(".slider-media-container .preview-box.sortable").sortable("toArray",{attribute:"data-attachment-id"}),n=t.item.data("post-id"),s={action:"sp_sort_slides_ajax",post_id:n,positions:i,ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,s)}}),$(".slider-media-container").on("click",".slide-container img",function(){var e=$(this).siblings("img.alert"),t=$(this).parent().data("post-id"),i=$(this).parent().data("attachment-id");$.SPFrameWork.showLoading(e),$(".slide-container").find("img").removeClass("active"),$(".slide-container").find("span.edit").removeClass("active"),$(this).addClass("active"),$(this).parent().find("span.edit").addClass("active");var n={action:"sp_get_slide_media_details_ajax",attachment_id:i,post_id:t,ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,n,function(t){var i=$.parseJSON(t);$(".slide-settings-container .inner-container").html("").append(i.mediaDetail),$.SPFrameWork.hideLoading(e),$(".slide-settings-container input.sp-colorpicker").wpColorPicker(),$.fn.select2&&$(".select2-select").select2({width:"element",minimumResultsForSearch:20}),$.SPFrameWork.textSizeSlider()})}),$(".slider-media-container a.add-slide-video-link").click(function(e){e.preventDefault(),$(".slider-media-container .video-link-container").slideToggle()}),$(".slider-media-container .submit-slide-video-link").click(function(e){if(e.preventDefault(),$(".slider-media-container input.slide-video-link-input").val()&&$(".slider-media-container input.slide-video-link-title-input").val()){var t=$(this).data("post-id"),i=$("input.slide-video-link-title-input").val(),n=$("input.slide-video-link-input").val(),s={action:"sp_add_video_link_slide_ajax",post_id:t,link:n,title:i,size:"slider_slide_list",ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,s,function(e){var t=$.parseJSON(e);$(".preview-box").append(t.attachmentObject),$(".slider-media-container input.slide-video-link-input").val(""),$(".slider-media-container input.slide-video-link-title-input").val("")})}}),$(".slider-media-container a.add-slide-content").click(function(e){e.preventDefault(),$(".slider-media-container .content-media-container").slideToggle()}),$(".slider-media-container .submit-slide-content").click(function(e){if(e.preventDefault(),$(".slider-media-container input.slide-content-title-input").val()){var t=$(this).data("post-id"),i=$("input.slide-content-title-input").val(),n={action:"sp_add_content_slide_ajax",title:i,post_id:t,size:"slider_slide_list",ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,n,function(e){var t=$.parseJSON(e);$(".preview-box").append(t.attachmentObject),$(".slider-media-container input.slide-content-title-input").val("")})}}),$(".slide-settings-container").on("click",".save-slide-settings",function(e){e.preventDefault(),$.SPFrameWork.showLoading($(".slide-settings-container .alert")),$(".slide-settings-container .font-subset-select").each(function(){var e=$(this);null===$(e).val()&&$("option:first-child",e).attr("selected",!0)});var t=$(this).parents(".slide-settings-container").find("form"),i=t.data("post-id"),n=t.data("attachment-id"),s=t.serialize(),a={action:"sp_save_slide_settings_ajax",form_items:s,post_id:i,attachment_id:n,ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,a,function(e){$.SPFrameWork.hideLoading($(".slide-settings-container .alert"),e)})}),$("#sp-panel-form").submit(function(e){e.preventDefault(),$.SPFrameWork.showLoading($(".sp-panel .alert"));var t=$(this).serialize(),i=$("#custom-styles").val(),n={action:"sp_theme_save_ajax",form_items:t,ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,n,function(e){$.SPFrameWork.hideLoading($(".sp-panel .alert"),e),$(".sp-panel input.save").attr("disabled","disabled"),$("#sp-panel-form").trigger("after_save"),$.SPFrameWork.updateExportSettings(),$.SPFrameWork.updateCustomStyles(i.length?i:"")})}),$("input.checkbox-button").change(function(){$.SPFrameWork.toggleCheckbox(this)}),$(".sp-panel .accordion h3.header").click(function(){$(this).next("div").slideToggle("fast",function(){var e=$(this).prev("h3.header").find("span");e.hasClass("caret-closed")?$(this).prev("h3.header").find("span").removeClass("caret-closed").addClass("caret-open"):$(this).prev("h3.header").find("span").removeClass("caret-open").addClass("caret-closed")})}),$(".slider-settings-container h3.header").toggle(function(e){e.preventDefault(),$(this).next(".accordion-container").slideDown(),$(this).find("span").removeClass("caret-closed").addClass("caret-open")},function(){$(this).next(".accordion-container").slideUp(),$(this).find("span").removeClass("caret-open").addClass("caret-closed")}),$(".sp-panel .customizer-reset").click(function(e){e.preventDefault();var t=confirm(sp_theme.reset_customizer_settings_msg);if(t){$.SPFrameWork.showLoading($(".sp-panel .alert"));var i={action:"sp_customizer_reset_ajax",ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,i,function(e){"done"===e?$.SPFrameWork.hideLoading($(".sp-panel .alert"),"done"):$.SPFrameWork.hideLoading($(".sp-panel .alert"),"error")})}}),$(".sp-panel .theme-reset").click(function(e){e.preventDefault();var t=confirm(sp_theme.reset_settings_msg);if(t){$.SPFrameWork.showLoading($(".sp-panel .alert"));var i={action:"sp_theme_reset_ajax",ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,i,function(e){"done"===e?($.SPFrameWork.hideLoading($(".sp-panel .alert"),"done"),window.location="admin.php?page=sp"):$.SPFrameWork.hideLoading($(".sp-panel .alert"),"error")})}}),$(".sp-panel .theme-config-reset").click(function(e){e.preventDefault(),$.SPFrameWork.showLoading($(".sp-panel .alert"));var t={action:"sp_theme_config_reset_ajax",ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,t,function(e){"done"===e?($.SPFrameWork.hideLoading($(".sp-panel .alert"),"done"),window.location="admin.php?page=sp"):$.SPFrameWork.hideLoading($(".sp-panel .alert"),"error")})}),$(".sp-panel .import-theme-settings").click(function(e){e.preventDefault();var t=confirm(sp_theme.settings_import_msg);if(t){$.SPFrameWork.showLoading($(".sp-panel .alert"));var i=$("#textarea-import_theme_settings").val(),n={action:"sp_import_theme_settings_ajax",settings:i,ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,n,function(e){"done"===e?($.SPFrameWork.hideLoading($(".sp-panel .alert"),"done"),window.location="admin.php?page=sp"):$.SPFrameWork.hideLoading($(".sp-panel .alert"),"error")})}}),$(".sp-panel").on("change","select.custom-widget-select",function(){var e=$(this).parents(".inner"),t=$(this).val(),i=e.find("select.custom-widget-location"),n=i.attr("id");i.select2("destroy"),i.attr("id",n.replace(/\d+/,t)),i.attr("name",n.replace(/\d+/,t)+"[]"),i.select2({width:"element",minimumResultsForSearch:20})}),$(".sp-panel .inner").on("click","a.add-widgets",function(e){e.preventDefault(),e.stopPropagation();var t=$(this).parents(".inner");t.find("select.select2-select").each(function(){$(this).select2("destroy")});var i=t.clone(!0),n=i.find(".custom-widget-location"),s=n.attr("id");i.slideDown("fast").insertAfter(t).find("select option:selected").removeAttr("selected"),n.attr("id",s.replace(/\d+/,"0")),n.attr("name",s.replace(/\d+/,"0")),t.find("select.select2-select").select2({width:"element",minimumResultsForSearch:20}),i.find("select.select2-select").select2({width:"element",minimumResultsForSearch:20}),$.SPFrameWork.enableSaveButton()}),$(".sp-panel .inner").on("click","a.delete-widget",function(e){e.preventDefault();var t=$(this).parents(".inner"),i=$(this).parents(".accordion-container");i.find(".inner").length>1&&(t.slideUp("fast",function(){t.remove()}),$.SPFrameWork.enableSaveButton())}),$(".sp-panel .inner").on("click","a.add-link",function(e){e.preventDefault(),e.stopPropagation();var t=$(this).parents(".inner"),i=t.prev(".checkout_add_links"),n=t.clone(!0),s=i.clone(!0);s.fadeIn("fast").insertAfter(t).find("input").val(""),n.fadeIn("fast").insertAfter(s).find("textarea").val(""),$.SPFrameWork.enableSaveButton()}),$(".sp-panel .inner").on("click","a.delete-link",function(e){e.preventDefault();var t=$(this).parents(".inner"),i=t.prev(".checkout_add_links");$(".sp-panel .checkout_add_links").length>2&&(t.fadeOut("fast",function(){t.remove()}),i.fadeOut("fast",function(){i.remove()}),$.SPFrameWork.enableSaveButton())}),$(".sp-panel a.create-page").click(function(e){e.preventDefault(),$.SPFrameWork.showLoading($(".sp-panel .alert"));var t=$(this).parents(".inner").find("input.page-title").val(),i=$(this).parents(".inner").find("input.page-title").val(),n={action:"sp_create_page_ajax",page_title:t,page_template:i,ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,n,function(e){$.SPFrameWork.hideLoading($(".sp-panel .alert"),e),window.location="admin.php?page=sp"})}),$(".sp-panel .save-config").click(function(){$.SPFrameWork.showLoading($(".sp-panel .alert"));var e=$(this).prevAll("input.save-config-name").val(),t={action:"sp_save_config_ajax",ajaxCustomNonce:sp_theme.ajaxCustomNonce,config_name:e};$.post(sp_theme.ajaxurl,t,function(t){"done"===t?($(".sp-panel select[name=apply_config]").append('<option value="'+e+'">'+e+"</option>"),$(".sp-panel select[name=apply_config]").trigger("change"),$.SPFrameWork.hideLoading($(".sp-panel .alert"),"done")):$.SPFrameWork.hideLoading($(".sp-panel .alert"),"error"),$(".sp-panel input.save-config-name").val("")})}),$(".sp-panel .apply-config").click(function(){var e=$(this).prevAll("select[name=apply_config]").val(),t=confirm(sp_theme.apply_config_msg),i={action:"sp_apply_config_ajax",ajaxCustomNonce:sp_theme.ajaxCustomNonce,config_name:e};t&&($.SPFrameWork.showLoading($(".sp-panel .alert")),$.post(sp_theme.ajaxurl,i,function(e){"done"===e?($.SPFrameWork.hideLoading($(".sp-panel .alert"),"done"),window.location="admin.php?page=sp"):$.SPFrameWork.hideLoading($(".sp-panel .alert"),"error")}))}),$(".sp-panel .delete-config").click(function(){var e=$(this).prevAll("select[name=delete_config]").val(),t=confirm(sp_theme.delete_config_msg),i={action:"sp_delete_config_ajax",ajaxCustomNonce:sp_theme.ajaxCustomNonce,config_name:e};t&&($.SPFrameWork.showLoading($(".sp-panel .alert")),$.post(sp_theme.ajaxurl,i,function(t){"done"===t?($(".sp-panel select[name=delete_config]").find("option[value="+e+"]").remove(),$(".sp-panel select[name=apply_config]").find("option[value="+e+"]").remove(),$(".sp-panel select[name=delete_config]").trigger("change"),$(".sp-panel select[name=apply_config]").trigger("change"),$.SPFrameWork.hideLoading($(".sp-panel .alert"),"done")):$.SPFrameWork.hideLoading($(".sp-panel .alert"),"error")}))}),$("#excerpt-truncate").click(function(){$(".truncate-settings-container").slideToggle("fast")}),$("#sp-panel-form").on("after_save",function(){var e=$("input[name=maintenance_enable]",this).filter(":checked").val(),t=$('<li id="wp-admin-bar-maintenance_mode" class="toolbar-maintenance-mode"><div class="ab-item ab-empty-item">'+sp_theme.maintenance_mode_msg+"</div></li>"),i=$("#wp-admin-bar-top-secondary");"on"===e?i.find(".toolbar-maintenance-mode").length<=0&&$(i).append(t):$("#wp-admin-bar-maintenance_mode",i).remove()}),$("#contact-form-content").on("click","a.add-field",function(t){t.preventDefault(),t.stopPropagation();var i=$("#contact-form-content"),n=i.find(".contact-form-field-item").eq(0);n.find("select.select2-select").select2("destroy");var s=n.clone(!0);s.find("select option:selected").removeAttr("selected"),s.find("input[type=text]").val(""),s.find("input[type=checkbox]").removeAttr("checked"),s.find(".hidden-required").val("off"),s.find(".option-row").remove(),s.find(".add-option-row").remove(),$(s).appendTo(".field-container"),$(s).attr("data-field-id",parseInt(e(),10)+1),n.find("select.select2-select").select2({width:"element",minimumResultsForSearch:20}),s.find("select.select2-select").select2({width:"element",minimumResultsForSearch:20}),s.find("input.field-label").show(),s.find("input.required-cb").show(),s.find("input.tag-name").show()}),$("#contact-form-content").on("click","a.remove-field",function(e){if(e.preventDefault(),$(this).parents("#contact-form-content").find(".contact-form-field-item").length>1){$(this).parents(".contact-form-field-item").remove();var t=1;$("#contact-form-content").find(".contact-form-field-item").each(function(){$(this).attr("data-field-id",t),$(this).find("ul.option-row").length&&$(this).find("ul.option-row").each(function(){$(this).find("input").attr("name","field_options[][field_"+t+"][]")}),t++})}}),$("#contact-form-content .field-label").each(function(){$(this).on("blur",function(){var e=$(this).val();e=e.toLowerCase(),e=e.replace(/\s/g,"_"),e=e.replace(/-/g,"_"),""===$(this).parents(".contact-form-field-item").find(".tag-name").val()&&$(this).parents(".contact-form-field-item").find(".tag-name").val(e)})}),$("#contact-form-content .tag-name").each(function(){$(this).on("blur",function(){var e=$(this).val();e=e.toLowerCase(),e=e.replace(/\s/g,"_"),e=e.replace(/-/g,"_"),$(this).val(e)})}),t(),i(),n(),$("#contact-form-content select.field-type").each(function(){var e=$(this);e.on("change",function(){var e=$(this).val(),t=$(this).parents(".contact-form-field-item"),i=t.attr("data-field-id");switch(e){case"radio":case"select":case"multiselect":$(".option-row",t).remove(),$(".add-option-row",t).remove();var a=$('<ul class="option-row"><li><i class="icon-options-indicator" aria-hidden="true"></i> '+sp_theme.contact_form_option_name+' <input type="text" name="field_options[][field_'+i+'][]" value="" /> <a href="#" class="remove-option button" title="'+sp_theme.contact_form_remove_option+'">'+sp_theme.contact_form_remove_option+'</a><i class="handle" aria-hidden="true"></i></li></ul><ul class="add-option-row"><li><i class="icon-options-indicator" aria-hidden="true"></i> <a href="#" class="add-option button" title="'+sp_theme.contact_form_add_option+'">'+sp_theme.contact_form_add_option+'</a><a href="#" class="toggle-options button" title="'+sp_theme.contact_form_toggle_options+'">'+sp_theme.contact_form_toggle_options+"</a></li></ul>");a.appendTo(t),n();var o=$(this).parents(".contact-form-field-item").find("ul.option-row").length;a.find(".remove-option").on("click",function(e){e.preventDefault(),o>1&&$(this).parents("ul.option-row").remove()}),t.find("input.field-options-count").val("1"),t.find("ul.option-row").is(":hidden")&&t.find("ul.option-row").show(),t.find("input.field-label").show(),t.find("input.required-cb").show(),t.find("input.tag-name").show(),s();break;case"text":case"email":case"textarea":case"checkbox":case"captcha":$(".option-row",t).remove(),$(".add-option-row",t).remove(),t.find("input.hidden-required").val("on"),t.find("input.required-cb").hide();break;case"datepicker":case"datetimepicker":$(".option-row",t).remove(),$(".add-option-row",t).remove(),t.find("input.field-label").show(),t.find("input.required-cb").show(),t.find("input.tag-name").show();break;case"separator":$(".option-row",t).remove(),$(".add-option-row",t).remove(),t.find("input.field-label").hide(),t.find("input.required-cb").hide(),t.find("input.tag-name").hide();break;case"heading":$(".option-row",t).remove(),$(".add-option-row",t).remove(),t.find("input.field-label").show(),t.find("input.required-cb").hide(),t.find("input.tag-name").hide()}})}),$.fn.sortable&&$("#contact-form-content").sortable({items:".contact-form-field-item",cursor:"move",handle:".form-field-handle",placeholder:"cf-sortable-placeholder",update:function(){var e=1;$("#contact-form-content").find(".contact-form-field-item").each(function(){$(this).attr("data-field-id",e),$(this).find("ul.option-row").length&&$(this).find("ul.option-row").each(function(){$(this).find("input").attr("name","field_options[][field_"+e+"][]")}),e++})}}),s(),$(".contact-form-field-item").on("click",".toggle-options",function(e){e.preventDefault(),$(this).parents(".contact-form-field-item").find("ul.option-row").is(":visible")?$(this).parents(".contact-form-field-item").find("ul.option-row").hide():$(this).parents(".contact-form-field-item").find("ul.option-row").show()}),$("#contact-form-messages a.populate-template").click(function(e){e.preventDefault(),e.stopPropagation();var t="",i=$(this).parents("#contact-form-messages");$("#contact-form-content .contact-form-field-item").each(function(){"heading"!==$(this).find("select.field-type").val()&&"separator"!==$(this).find("select.field-type").val()&&"captcha"!==$(this).find("select.field-type").val()&&(t+=$(this).find("input.field-label").val()+":\r\n",t+="["+$(this).find("input.tag-name").val()+"]\r\n\r\n")}),i.find("textarea[name=contact_form_email_template]").val(t)}),$("#poststuff").on("click",".page-builder-switcher",function(e){e.preventDefault();var t=$(this);t.is(".default")?(t.attr("title",sp_theme.page_builder_switcher_default_text).html(sp_theme.page_builder_switcher_default_text).removeClass("default").addClass("advanced"),t.siblings('input[name="sp_editor_type"]').val("advanced"),$("#postdivrich").fadeOut("fast"),$("#page-builder").fadeIn("fast"),$("#sp_page_layout").hide()):(t.attr("title",sp_theme.page_builder_switcher_advanced_text).html(sp_theme.page_builder_switcher_advanced_text).removeClass("advanced").addClass("default"),t.siblings('input[name="sp_editor_type"]').val("default"),$("#page-builder").fadeOut("fast"),$("#postdivrich").fadeIn("fast"),$("#sp_page_layout").show())}),$("#poststuff").find(".page-builder-switcher").is(".default")?$("#sp_page_layout").show():$("#sp_page_layout").hide(),$('input[name="sp_editor_type"]').length){var p=$('input[name="sp_editor_type"]').val();"advanced"===p?($("#postdivrich").hide(),$("#page-builder").show()):($("#postdivrich").show(),$("#page-builder").hide())}o(),r(),l(),c(),d(),$(".page-builder-section").on("click","a.collapse-rows",function(e){e.preventDefault(),$(this).parents(".page-builder-section").find(".row-container").each(function(){var e=$(this),t=e.find(".row-inner");
t.slideUp("fast"),e.addClass("collapsed").removeClass("expanded").find("a.collapse-row i").attr("class","icon-caret-up")})}),$(".page-builder-section").on("click","a.add-row",function(e){e.preventDefault();var t=$(this).parents(".page-builder-section").find(".rows-wrapper"),i=$(".row-container",t).eq(0).clone(),n=String(i.find("p.row-width input").attr("name")),s=n.replace(/\[row\]\[\d+\]|\[row\]\[\]/,"[row][1000]"),l=String(i.find("p.row-status input").attr("name")),c=l.replace(/\[row\]\[\d+\]|\[row\]\[\]/,"[row][1000]");i.find("p.row-width input").attr("name",s),i.find("p.row-status input").attr("name",c),i.find(".columns-wrapper").html(""),i.find(".column-layout a.active").removeClass("active"),t.append(i),$("html, body").animate({scrollTop:$(i).offset().top-30},2e3),i.find("p.row-width input").eq(1).prop("checked",!0),i.find("p.row-status input").eq(0).prop("checked",!0),r(),d(),a(),o(),$.SPFrameWork.startToolTip()}),$(".page-builder-section").on("click","a.remove-row",function(e){e.preventDefault();var t=$(this).parents(".page-builder-section").find(".rows-wrapper"),i=$(this).parents(".row-container");if(1!==$(".row-container",t).length){if(0===$(".column .inner .module-element",i).length)i.remove();else{var n=confirm(sp_theme.page_builder_remove_row);n&&i.remove()}o(),a()}}),$(".page-builder-section").on("click","a.collapse-row",function(e){e.preventDefault();var t=$(this).parents(".row-container"),i=t.find(".row-inner");i.is(":visible")?(i.slideUp("fast"),$(this).addClass("collapsed").removeClass("expanded").find("i").attr("class","icon-caret-up")):(i.slideDown("fast"),$(this).addClass("expanded").removeClass("collapsed").find("i").attr("class","icon-caret-down"))}),$(".page-builder-section").on("click","a.one, a.two, a.three, a.four, a.five, a.six, a.two-third, a.one-third, a.two-sidebars, a.one-fourth, a.three-fourth",function(e){e.preventDefault(),$(this).parents(".column-layout").find("a").removeClass("active");var t=$(this).parents(".row-inner"),i=$(".columns-wrapper",t),n=$('<div class="column"><h3 class="column-heading">'+sp_theme.page_builder_column_heading_text+' <span class="col-count"></span></h3><div class="inner"><div class="module-element column-placeholder"><div class="module-values"><input type="hidden" name="pb[row][][column][][module][0][placeholder]" class="module-value" value="hold" /></div></div></div></div>'),s=$(this).data("column"),r=$(this).parents(".row-container"),d="",h,u;switch(r.find("input.pb-row-columns").val(s),s){case"one":u=1,h=Math.abs(u-i.find(".column").length);break;case"two":u=2,h=Math.abs(u-i.find(".column").length);break;case"three":u=3,h=Math.abs(u-i.find(".column").length);break;case"four":u=4,h=Math.abs(u-i.find(".column").length);break;case"five":u=5,h=Math.abs(u-i.find(".column").length);break;case"six":u=6,h=Math.abs(u-i.find(".column").length);break;case"one-third":u=2,h=Math.abs(u-i.find(".column").length);break;case"two-third":u=2,h=Math.abs(u-i.find(".column").length);break;case"two-sidebars":u=3,h=Math.abs(u-i.find(".column").length);break;case"one-fourth":u=2,h=Math.abs(u-i.find(".column").length);break;case"three-fourth":u=2,h=Math.abs(u-i.find(".column").length)}if(t.find(".columns-wrapper .column").length<1)for(var p=1;u>=p;p++)i.append(n.clone().addClass(s));else if(i.find(".column").length<u){for(var m=1;h>=m;m++)i.append(n.clone());i.find(".column").prop("class","column "+s)}else i.find(".column").length>u?($(".column:gt("+(u-1)+")",i).each(function(){$(".inner .module-element",this).not(".module-element.column-placeholder").each(function(){var e=$(this).prop("data-id");d+='<div class="module-element" data-id="'+e+'">'+$(this).html()+"</div>"}),$(this).remove()}),$(".column",i).last().find(".inner").append(d),$(".column",i).prop("class","column "+s)):($(".column",i).last().find(".inner").append(d),$(".column",i).prop("class","column "+s));$(this).addClass("active"),c(),o(),l(),a()}),$(".page-builder-section").on("click","a.module-element-delete",function(e){e.preventDefault(),$(this).parents(".module-element").remove(),o(),a()}),$(".page-builder-section").on("click","a.module-element-edit",function(e){e.preventDefault();var t=$(this).parents(".module-element"),i=$(".module-values",t),n=t.data("id"),s=$('<a href="#" class="toggle-options button" title="'+sp_theme.shortcodes_more_options_button_text+'">'+sp_theme.shortcodes_more_options_button_text+"</a>"),a=$('<a href="#" class="close-page-builder-modal button button-primary" title="'+sp_theme.page_builder_settings_done_text+'">'+sp_theme.page_builder_settings_done_text+"</a>"),o=t.find(".pb-textarea").val();if(i.find("div.optional").hide(),"custom_content"===n){var r={action:"sp_page_builder_content_tinymce_ajax",ajaxCustomNonce:sp_theme.ajaxCustomNonce,content:o};$.post(sp_theme.ajaxurl,r,function(e){i=e,$.SPFrameWork.popup(t,i),$.SPFrameWork.reinitMCE()})}else $.magnificPopup.open({items:{src:i},type:"inline",removalDelay:300,mainClass:"page-builder-modal",closeMarkup:'<button title="'+sp_theme.page_builder_settings_done_text+'" class="mfp-close button button-primary">'+sp_theme.page_builder_settings_done_text+"</button>",closeOnContentClick:!1,modal:!0,callbacks:{open:function(){"custom_content"!==n&&i.find("div.optional").length&&$(".page-builder-modal .mfp-content").append(s),$(".page-builder-modal .mfp-content").append(a),$(".page-builder-modal").on("click","a.toggle-options",function(e){e.preventDefault();var t=$(this),i=$(this).parents(".page-builder-modal");i.find("div.optional").slideToggle(300),t.text(function(e,t){return t===sp_theme.shortcodes_more_options_button_text?sp_theme.shortcodes_less_options_button_text:sp_theme.shortcodes_more_options_button_text})}),$(".page-builder-modal").on("click","a.close-page-builder-modal",function(e){e.preventDefault(),$.magnificPopup.close()})},close:function(){$(".page-builder-modal").off("click","a.toggle-options")}}},0)}),$(".page-builder-section").on("click","span.page-builder-shortcode-button",function(e){e.preventDefault();var t=$(this).next(".page-builder-shortcode-list"),i=$(this).parents(".module-values").find(".content-area");t.is(":visible")?t.stop(!0,!0).slideUp("fast"):(t.stop(!0,!0).slideDown("fast"),t.on("click","a",function(e){e.preventDefault(),$(".shortcodes-module-container").each(function(){$(this).dialog("close")});var t=$(this).data("id"),n=$(this).prop("title"),s={action:"sp_shortcode_input_form_ajax",ajaxCustomNonce:sp_theme.ajaxCustomNonce,module:t},a=$.parseJSON(sp_theme.shortcodes_module),o,r=[],l=[];$.post(sp_theme.ajaxurl,s,function(e){e=$.parseJSON(e),o=$('<div class="shortcodes-module-container" data-id="'+t+'">'+e.form+'<button class="button button-primary add-shortcode">'+sp_theme.shortcodes_add_shortcode_button_text+'</button><button class="toggle-options button">'+sp_theme.shortcodes_more_options_button_text+"</button></div>"),$(o).find("div.optional").length?$(o).find(".toggle-options").show():$(o).find(".toggle-options").hide(),$("body").append(o),o.hide(),$(".shortcodes-module-container").dialog({title:n,width:600,height:"auto",close:function(){o.remove()},open:function(){$(".shortcodes-module-container").scrollTop(0)}}),$(".shortcodes-module-container").dialog("open"),$("input[type=text], textarea, select",o).not('textarea[name="inner_wrap_content"]').each(function(){r.push($(this).val())}),$("input[type=radio]:checked",o).each(function(){l.push($(this).val())}),$(".shortcodes-module-container").on("click",".add-shortcode",function(e){e.preventDefault();var n=$(this).parents(".shortcodes-module-container"),s;s="["+a[t].shortcode_name,$("input[type=text], textarea, select",n).not('textarea[name="inner_wrap_content"]').each(function(e){$(this).val()!==r[e]&&(s+=" "+$(this).prop("name")+'="'+$(this).val()+'"')}),$("input[type=radio]:checked",n).each(function(e){$(this).val()!==l[e]&&(s+=" "+$(this).prop("name")+'="'+$(this).val()+'"')}),s+="]","tabs"===t&&(s+='[sp-tab-content tab=""]'+sp_theme.shortcodes_tinymce_shortcode_content_msg+"[/sp-tab-content][/"+a[t].shortcode_name+"]"),"accordion"===t&&(s+="[sp-accordion-content]"+sp_theme.shortcodes_tinymce_shortcode_content_msg+"[/sp-accordion-content][/"+a[t].shortcode_name+"]"),$('textarea[name="inner_wrap_content"]',n).length&&$('textarea[name="inner_wrap_content"]',n).val().length>0&&(s+=$('textarea[name="inner_wrap_content"]',n).val()+"[/"+a[t].shortcode_name+"]"),i.val(i.val()+s).trigger("keyup"),$(".shortcodes-module-container").dialog("close")}),$(".shortcodes-module-container").on("click",".toggle-options",function(e){e.preventDefault();var t=$(this),i=$(this).parents(".shortcodes-module-container");i.find("div.optional").slideToggle(300,function(){t.text(function(e,t){return t===sp_theme.shortcodes_more_options_button_text?sp_theme.shortcodes_less_options_button_text:sp_theme.shortcodes_more_options_button_text})})})})}))});var m;$(".page-builder-section").on("click",".pb-custom-content-media-upload",function(e){e.preventDefault();var t=$(this).parents(".module-values"),i=t.find(".content-area");m=wp.media.frames.customContentMediaFrame=wp.media({title:$(this).data("uploader_title"),button:{text:$(this).data("uploader_button_text")},multiple:!1}),m.on("select",function(){var e=m.state().get("selection").toJSON();$(e).each(function(){var e='<img src="'+this.url+'" alt="'+this.alt+'" width="'+this.width+'" height="'+this.height+'" />';i.html(i.html()+" "+e).trigger("keyup"),i.val(i.val()+" "+e).trigger("keyup")})}),m.open()}),$("#sp_alternate_product_image").on("click",".alternate-product-image-media-upload",function(e){e.preventDefault();var t=$(this).parents("#sp_alternate_product_image");m=wp.media.frames.customContentMediaFrame=wp.media({multiple:!1,library:{type:"image"}}),m.on("select",function(){var e=m.state().get("selection").toJSON();$(e).each(function(){var e='<img src="'+this.sizes.thumbnail.url+'" width="'+this.sizes.thumbnail.width+'" height="'+this.sizes.thumbnail.height+'" />',i=this.id,n=t.find("p.hide-if-no-js").eq(0);t.find("#alternate-product-image").val(i),n.html('<a href="#" class="alternate-product-image-media-upload">'+e+"</a>"),t.find("p.hide-if-no-js").eq(1).remove(),n.after('<p class="hide-if-no-js"><a href="#" class="remove-alternate-product-image">'+sp_theme.remove_alternate_product_image_text+"</a></p>")})}),m.open()}),$("#sp_alternate_product_image").on("click",".remove-alternate-product-image",function(e){e.preventDefault();var t=$(this).parents("#sp_alternate_product_image"),i=$('<a href="#" class="alternate-product-image-media-upload">'+sp_theme.set_alternate_product_image_text+"</a>");t.find("p.hide-if-no-js").eq(0).remove(),t.find("p.hide-if-no-js").html(i),t.find("#alternate-product-image").val("")}),$(".sp-panel .install-sample-data").click(function(e){if(e.preventDefault(),confirm(sp_theme.confirm_install_sample_data_msg)){var t={action:"sp_install_sample_data_ajax",ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.SPFrameWork.showLoading($(".sp-panel .alert")),$.post(sp_theme.ajaxurl,t,function(e){e&&(window.location="admin.php?page=sp")})}})},startSelect2:function(){$.fn.select2&&$(".select2-select").select2({width:"element",minimumResultsForSearch:20})},wooCommerce:function(){function e(){var e=$(".product-tab-container");e.tabs(e.data("ui-tabs")?"refresh":{heightStyle:"content"}),e.find("li").length<=0&&$(e).tabs("destroy")}function t(){var t=$(".product-tab-container"),i=1;t.find("li.tab").each(function(){var e=$(".tab-title",this);e.attr("href","#tabs-"+i),i++}),i=1,t.find(".tab-content").each(function(){var e=$(this);e.attr("id","tabs-"+i),i++}),e()}$(".product-tab-container").each(function(){$(this).tabs({heightStyle:"content"})}),$("#sp_custom_product_tabs").on("click",".add-tab",function(e){e.preventDefault();var i=$(".product-tab-container"),n={action:"sp_add_custom_product_tab_ajax",ajaxCustomNonce:sp_theme.ajaxCustomNonce};$.post(sp_theme.ajaxurl,n,function(e){e=$.parseJSON(e),i.find("ul.tab-list").append(e.tab),i.append(e.editor).show(),$.SPFrameWork.newMCE(e.mce_id),t(),1===i.find("ul.tab-list li").length?i.find("ul.tab-list li a.tab-title").eq(0).trigger("click"):i.find("ul.tab-list li:last a.tab-title").trigger("click")})}),$("#sp_custom_product_tabs").on("click",".remove-tab",function(e){e.preventDefault();var i=$(".product-tab-container"),n=$(this).parent("li.tab").find(".tab-title").attr("href");$(this).parent("li.tab").remove(),i.find(n).remove(),t()}),$("#sp_custom_product_tabs").on("dblclick",".tab-title",function(e){e.preventDefault();var i=$(this),n=i.siblings("span.edit-title"),s=prompt(sp_theme.custom_product_tabs_title_text,"");s&&(n.find(".tab-name").val(s),i.html(s),t())})},startToolTip:function(){$(".sp-tooltip").tooltip({container:"body"})}},$.SPFrameWork.init(),$.SPFrameWork.startSelect2(),$.SPFrameWork.textSizeSlider(),$.SPFrameWork.wooCommerce(),$.SPFrameWork.startToolTip()});