!function(){"use strict";function t(t){$(".shortcodes-module-container").each(function(){$(this).dialog("close")});var o=t,i={action:"sp_shortcode_input_form_ajax",ajaxCustomNonce:sp_theme.ajaxCustomNonce,module:o},n,c=[],a=[];$.post(sp_theme.ajaxurl,i,function(t){t=$.parseJSON(t),n=$('<div class="shortcodes-module-container" data-id="'+o+'">'+t.form+'<button class="button button-primary add-shortcode">'+sp_theme.shortcodes_add_shortcode_button_text+'</button><button class="toggle-options button">'+sp_theme.shortcodes_more_options_button_text+"</button></div>"),$(n).find("div.optional").length?$(n).find(".toggle-options").show():$(n).find(".toggle-options").hide(),$("body").append(n),n.hide(),$(".shortcodes-module-container").dialog({title:o,width:600,height:600,dialogClass:"shortcode-modules-dialog",close:function(){n.remove(),$(".mfp-wrap.page-builder-modal").show()},open:function(){$(".shortcodes-module-container").scrollTop(0),$(".mfp-wrap.page-builder-modal").hide()}}).dialog("open"),$("input[type=text], textarea, select",n).not('textarea[data-set-name="inner_wrap_content"], input[data-set-name="inner_wrap_content"]').each(function(){c.push($(this).val())}),$("input[type=radio]:checked",n).each(function(){a.push($(this).val())}),$(".shortcodes-module-container").on("click",".add-shortcode",function(t){t.preventDefault();var i=$(this).parents(".shortcodes-module-container"),n;n="["+e[o].shortcode_name,$("input[type=text], textarea, select",i).not('textarea[data-set-name="inner_wrap_content"], input[data-set-name="inner_wrap_content"]').each(function(t){var e=$(this).parents(".form-group").eq(0).hasClass("required");($(this).val()!==c[t]||e)&&(n+=" "+$(this).data("set-name")+'="'+$(this).val()+'"')}),$("input[type=radio]:checked",i).each(function(t){var e=$(this).parents(".form-group").eq(0).hasClass("required");($(this).val()!==a[t]||e)&&(n+=" "+$(this).data("set-name")+'="'+$(this).val()+'"')}),n+="]","tabs"===o&&(n+=sp_theme.shortcodes_tinymce_shortcode_tab_content_msg+"[/"+e[o].shortcode_name+"]"),"tab_content"===o&&(n+=sp_theme.shortcodes_tinymce_shortcode_content_msg+"[/"+e[o].shortcode_name+"]"),"accordion"===o&&(n+="[sp-accordion-content]"+sp_theme.shortcodes_tinymce_shortcode_content_msg+"[/sp-accordion-content][/"+e[o].shortcode_name+"]"),"code"===o&&(n+=sp_theme.shortcodes_tinymce_shortcode_content_msg+"[/sp-code]"),"check_login"===o&&(n+=sp_theme.shortcodes_tinymce_shortcode_content_msg+"[/sp-check-login]"),"grid"===o&&(n+=sp_theme.shortcodes_tinymce_shortcode_content_msg+"[/sp-grid]"),$('textarea[data-set-name="inner_wrap_content"]',i).length&&$('textarea[data-set-name="inner_wrap_content"]',i).val().length>0&&(n+=$('textarea[data-set-name="inner_wrap_content"]',i).val()+"[/"+e[o].shortcode_name+"]"),$('input[data-set-name="inner_wrap_content"]',i).length&&$('input[data-set-name="inner_wrap_content"]',i).val().length>0&&(n+=$('input[data-set-name="inner_wrap_content"]',i).val()+"[/"+e[o].shortcode_name+"]"),window.tinyMCE.activeEditor.execCommand("mceInsertContent",!1,n),$(".shortcodes-module-container").dialog("close")}),$(".shortcodes-module-container").on("click",".toggle-options",function(t){t.preventDefault();var e=$(this),o=$(this).parents(".shortcodes-module-container");o.find("div.optional").slideToggle(300),e.text(function(t,e){return e===sp_theme.shortcodes_more_options_button_text?sp_theme.shortcodes_less_options_button_text:sp_theme.shortcodes_more_options_button_text})})})}var $=jQuery,e=$.parseJSON(sp_theme.shortcodes_module);"4"===tinymce.majorVersion?tinymce.PluginManager.add("sp_shortcodes",function(o,i){o.addButton("sp_shortcodes",{icon:"sp-shortcode-button",type:"menubutton",classes:"sp-shortcode-menu-button, btn",menu:[{text:sp_theme.shortcodes_tinymce_section_social_media,menu:[{text:e.social_media_fb.title,onclick:function(){t("social_media_fb")}},{text:e.social_media_gplusone.title,onclick:function(){t("social_media_gplusone")}},{text:e.social_media_tweet.title,onclick:function(){t("social_media_tweet")}},{text:e.social_media_twitter_follow.title,onclick:function(){t("social_media_twiiter_follow")}},{text:e.social_media_pinit.title,onclick:function(){t("social_media_pinit")}}]},{text:sp_theme.shortcodes_tinymce_section_products,menu:[{text:e.product_slider.title,onclick:function(){t("product_slider")}}]},{text:e.tabs.title,onclick:function(){t("tabs")}},{text:e.tab_content.title,onclick:function(){t("tab_content")}},{text:sp_theme.shortcodes_tinymce_section_sliders,menu:[{text:e.carousel_slider.title,onclick:function(){t("carousel_slider")}},{text:e.layer_slider.title,onclick:function(){t("layer_slider")}}]},{text:sp_theme.shortcodes_tinymce_section_boxes,menu:[{text:e.callout.title,onclick:function(){t("callout")}},{text:e.imagelinkbox.title,onclick:function(){t("imagelinkbox")}},{text:e.lightbox.title,onclick:function(){t("lightbox")}}]},{text:e.accordion.title,onclick:function(){t("accordion")}},{text:e.accordion_content.title,onclick:function(){t("accordion_content")}},{text:sp_theme.shortcodes_tinymce_section_formatting,menu:[{text:e.grid.title,onclick:function(){t("grid")}},{text:e.hr.title,onclick:function(){t("hr")}},{text:e.dropcap.title,onclick:function(){t("dropcap")}},{text:e.blockquote.title,onclick:function(){t("blockquote")}},{text:e.code.title,onclick:function(){t("code")}}]},{text:e.btt.title,onclick:function(){t("btt")}},{text:e.image_link.title,onclick:function(){t("image_link")}},{text:e.tooltip.title,onclick:function(){t("tooltip")}},{text:e.map.title,onclick:function(){t("map")}},{text:e.check_login.title,onclick:function(){t("check_login")}},{text:sp_theme.shortcodes_tinymce_section_forms,menu:[{text:e.login.title,onclick:function(){t("login")}},{text:e.register.title,onclick:function(){t("register")}},{text:e.change_password.title,onclick:function(){t("change_password")}},{text:e.contactform.title,onclick:function(){t("contactform")}}]},{text:e.button.title,onclick:function(){t("button")}},{text:e.portfolio.title,onclick:function(){t("portfolio")}},{text:e.bio_card.title,onclick:function(){t("bio_card")}},{text:e.testimonial.title,onclick:function(){t("testimonial")}},{text:e.faq.title,onclick:function(){t("faq")}},{text:sp_theme.shortcodes_tinymce_section_paths,menu:[{text:e.homeurl.title,onclick:function(){t("homeurl")}},{text:e.themeurl.title,onclick:function(){t("themeurl")}},{text:e.themepath.title,onclick:function(){t("themepath")}}]}]})}):(tinymce.create("tinymce.plugins.sp_shortcodes",{init:function(e){e.addCommand("spOpenDialog",function(e,o){t(o.id)})},createControl:function(t,o){if("sp_shortcodes"===t){var i=this;return t=o.createMenuButton("sp_shortcodes_button",{title:sp_theme.shortcodes_tinymce_title,image:sp_theme.shortcodes_tinymce_icon,icons:!1}),t.onRenderMenu.add(function(t,o){t=o.addMenu({title:sp_theme.shortcodes_tinymce_section_social_media}),i.addImmediate(t,e.social_media_fb.title,e.social_media_fb.shortcode,"social_media_fb"),i.addImmediate(t,e.social_media_gplusone.title,e.social_media_gplusone.shortcode,"social_media_gplusone"),i.addImmediate(t,e.social_media_tweet.title,e.social_media_tweet.shortcode,"social_media_tweet"),i.addImmediate(t,e.social_media_twitter_follow.title,e.social_media_twitter_follow.shortcode,"social_media_twitter_follow"),i.addImmediate(t,e.social_media_pinit.title,e.social_media_pinit.shortcode,"social_media_pinit"),t=o.addMenu({title:sp_theme.shortcodes_tinymce_section_products}),i.addImmediate(t,e.product_slider.title,e.product_slider.shortcode,"product_slider"),i.addImmediate(o,e.tabs.title,e.tabs.shortcode,"tabs"),i.addImmediate(o,e.tab_content.title,e.tab_content.shortcode,"tab_content"),t=o.addMenu({title:sp_theme.shortcodes_tinymce_section_sliders}),i.addImmediate(t,e.carousel_slider.title,e.carousel_slider.shortcode,"carousel_slider"),i.addImmediate(t,e.layer_slider.title,e.layer_slider.shortcode,"layer_slider"),t=o.addMenu({title:sp_theme.shortcodes_tinymce_section_boxes}),i.addImmediate(t,e.callout.title,e.callout.shortcode,"callout"),i.addImmediate(t,e.imagelinkbox.title,e.imagelinkbox.shortcode,"imagelinkbox"),i.addImmediate(t,e.lightbox.title,e.lightbox.shortcode,"lightbox"),i.addImmediate(o,e.accordion.title,e.accordion.shortcode,"accordion"),i.addImmediate(o,e.accordion_content.title,e.accordion_content.shortcode,"accordion_content"),t=o.addMenu({title:sp_theme.shortcodes_tinymce_section_formatting}),i.addImmediate(t,e.grid.title,e.grid.shortcode,"grid"),i.addImmediate(t,e.hr.title,e.hr.shortcode,"hr"),i.addImmediate(t,e.dropcap.title,e.dropcap.shortcode,"dropcap"),i.addImmediate(t,e.blockquote.title,e.blockquote.shortcode,"blockquote"),i.addImmediate(t,e.code.title,e.code.shortcode,"code"),i.addImmediate(o,e.btt.title,e.btt.shortcode,"btt"),i.addImmediate(o,e.image_link.title,e.image_link.shortcode,"image_link"),i.addImmediate(o,e.tooltip.title,e.tooltip.shortcode,"tooltip"),i.addImmediate(o,e.map.title,e.map.shortcode,"map"),i.addImmediate(o,e.check_login.title,e.check_login.shortcode,"check_login"),t=o.addMenu({title:sp_theme.shortcodes_tinymce_section_forms}),i.addImmediate(t,e.login.title,e.login.shortcode,"login"),i.addImmediate(t,e.register.title,e.register.shortcode,"register"),i.addImmediate(t,e.change_password.title,e.change_password.shortcode,"change_password"),i.addImmediate(t,e.contactform.title,e.contactform.shortcode,"contactform"),i.addImmediate(o,e.button.title,e.button.shortcode,"button"),i.addImmediate(o,e.portfolio.title,e.portfolio.shortcode,"portfolio"),i.addImmediate(o,e.bio_card.title,e.bio_card.shortcode,"bio_card"),i.addImmediate(o,e.testimonial.title,e.testimonial.shortcode,"testimonial"),i.addImmediate(o,e.faq.title,e.faq.shortcode,"faq"),t=o.addMenu({title:sp_theme.shortcodes_tinymce_section_paths}),i.addImmediate(t,e.homeurl.title,e.homeurl.shortcode,"homeurl"),i.addImmediate(t,e.themeurl.title,e.themeurl.shortcode,"themeurl"),i.addImmediate(t,e.themepath.title,e.themepath.shortcode,"themepath")}),t}},addImmediate:function(t,e,o,i){t.add({title:e,onclick:function(){tinyMCE.activeEditor.execCommand("spOpenDialog",!1,{title:e,identifier:o,id:i})}})},getInfo:function(){return{longname:"Splashing Pixels Shortcodes",author:"Splashing Pixels (Roy Ho)",authorurl:"http://splashingpixels.com",infourl:"http://splashingpixels.com",version:"1.0"}}}),tinymce.PluginManager.add("sp_shortcodes",tinymce.plugins.sp_shortcodes))}();